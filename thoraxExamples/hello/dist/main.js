/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v1.9.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-1-14
 */

/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2013 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/*

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/

/*
Copyright (c) 2011-2013 @WalmartLabs

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to
deal in the Software without restriction, including without limitation the
rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
sell copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.
*/

var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function n(e,t){var n,i,r,o,s,a,l,c,u,h,p,d=t&&t.split("/"),f=m.map,g=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),s=e.length-1,m.nodeIdCompat&&b.test(e[s])&&(e[s]=e[s].replace(b,"")),e=d.concat(e),u=0;u<e.length;u+=1)if(p=e[u],"."===p)e.splice(u,1),u-=1;else if(".."===p){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||g)&&f){for(n=e.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),d)for(h=d.length;h>0;h-=1)if(r=f[d.slice(0,h).join("/")],r&&(r=r[i])){o=r,a=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function i(t,n){return function(){return u.apply(e,y.call(arguments,0).concat([t,n]))}}function r(e){return function(t){return n(t,e)}}function o(e){return function(t){d[e]=t}}function s(n){if(t(f,n)){var i=f[n];delete f[n],g[n]=!0,c.apply(e,i)}if(!t(d,n)&&!t(g,n))throw new Error("No "+n);return d[n]}function a(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return m&&m.config&&m.config[e]||{}}}var c,u,h,p,d={},f={},m={},g={},v=Object.prototype.hasOwnProperty,y=[].slice,b=/\.js$/;h=function(e,t){var i,o=a(e),l=o[0];return e=o[1],l&&(l=n(l,t),i=s(l)),l?e=i&&i.normalize?i.normalize(e,r(t)):n(e,t):(e=n(e,t),o=a(e),l=o[0],e=o[1],l&&(i=s(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:i}},p={require:function(e){return i(e)},exports:function(e){var t=d[e];return"undefined"!=typeof t?t:d[e]={}},module:function(e){return{id:e,uri:"",exports:d[e],config:l(e)}}},c=function(n,r,a,l){var c,u,m,v,y,b,w=[],x=typeof a;if(l=l||n,"undefined"===x||"function"===x){for(r=!r.length&&a.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)if(v=h(r[y],l),u=v.f,"require"===u)w[y]=p.require(n);else if("exports"===u)w[y]=p.exports(n),b=!0;else if("module"===u)c=w[y]=p.module(n);else if(t(d,u)||t(f,u)||t(g,u))w[y]=s(u);else{if(!v.p)throw new Error(n+" missing "+u);v.p.load(v.n,i(l,!0),o(u),{}),w[y]=d[u]}m=a?a.apply(d[n],w):void 0,n&&(c&&c.exports!==e&&c.exports!==d[n]?d[n]=c.exports:m===e&&b||(d[n]=m))}else n&&(d[n]=a)},requirejs=require=u=function(t,n,i,r,o){if("string"==typeof t)return p[t]?p[t](n):s(h(t,n).f);if(!t.splice){if(m=t,m.deps&&u(m.deps,m.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?c(e,t,n,i):setTimeout(function(){c(e,t,n,i)},4),u},u.config=function(e){return u(e)},requirejs._defined=d,define=function(e,n,i){n.splice||(i=n,n=[]),t(d,e)||t(f,e)||(f[e]=[e,n,i])},define.amd={jQuery:!0}}(),define("../bower_components/almond/almond",function(){}),function(e,t){function n(e){var t=e.length,n=at.type(e);return at.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=xt[e]={};return at.each(e.match(ct)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(at.acceptData(e)){var o,s,a=at.expando,l="string"==typeof n,c=e.nodeType,u=c?at.cache:e,h=c?e[a]:e[a]&&a;if(h&&u[h]&&(r||u[h].data)||!l||i!==t)return h||(c?e[a]=h=K.pop()||at.guid++:h=a),u[h]||(u[h]={},c||(u[h].toJSON=at.noop)),("object"==typeof n||"function"==typeof n)&&(r?u[h]=at.extend(u[h],n):u[h].data=at.extend(u[h].data,n)),o=u[h],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[at.camelCase(n)]=i),l?(s=o[n],null==s&&(s=o[at.camelCase(n)])):s=o,s}}function o(e,t,n){if(at.acceptData(e)){var i,r,o,s=e.nodeType,l=s?at.cache:e,c=s?e[at.expando]:at.expando;if(l[c]){if(t&&(i=n?l[c]:l[c].data)){at.isArray(t)?t=t.concat(at.map(t,at.camelCase)):t in i?t=[t]:(t=at.camelCase(t),t=t in i?[t]:t.split(" "));for(r=0,o=t.length;o>r;r++)delete i[t[r]];if(!(n?a:at.isEmptyObject)(i))return}(n||(delete l[c].data,a(l[c])))&&(s?at.cleanData([e],!0):at.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function s(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(kt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:_t.test(i)?at.parseJSON(i):i}catch(o){}at.data(e,n,i)}else i=t}return i}function a(e){var t;for(t in e)if(("data"!==t||!at.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,n){if(t=t||0,at.isFunction(t))return at.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return at.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=at.grep(e,function(e){return 1===e.nodeType});if(Vt.test(t))return at.filter(t,i,!n);t=at.filter(t,i)}return at.grep(e,function(e){return at.inArray(e,t)>=0===n})}function p(e){var t=Ut.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=nn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)at._data(n,"globalEval",!t||at._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&at.hasData(e)){var n,i,r,o=at._data(e),s=at._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)at.event.add(t,n,a[n][i])}s.data&&(s.data=at.extend({},s.data))}}function y(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!at.support.noCloneEvent&&t[at.expando]){i=at._data(t);for(r in i.events)at.removeEvent(t,r,i.handle);t.removeAttribute(at.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),at.support.html5Clone&&e.innerHTML&&!at.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Zt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var i,r,o=0,s="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(n||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],i=e.childNodes||e;null!=(r=i[o]);o++)!n||at.nodeName(r,n)?s.push(r):at.merge(s,b(r,n));return n===t||n&&at.nodeName(e,n)?at.merge([e],s):s}function w(e){Zt.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=kn.length;r--;)if(t=kn[r]+n,t in e)return t;return i}function _(e,t){return e=t||e,"none"===at.css(e,"display")||!at.contains(e.ownerDocument,e)}function k(e,t){for(var n,i=[],r=0,o=e.length;o>r;r++)n=e[r],n.style&&(i[r]=at._data(n,"olddisplay"),t?(i[r]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&_(n)&&(i[r]=at._data(n,"olddisplay",E(n.nodeName)))):i[r]||_(n)||at._data(n,"olddisplay",at.css(n,"display")));for(r=0;o>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[r]||"":"none"));return e}function T(e,t,n){var i=gn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=at.css(e,n+_n[o],!0,r)),i?("content"===n&&(s-=at.css(e,"padding"+_n[o],!0,r)),"margin"!==n&&(s-=at.css(e,"border"+_n[o]+"Width",!0,r))):(s+=at.css(e,"padding"+_n[o],!0,r),"padding"!==n&&(s+=at.css(e,"border"+_n[o]+"Width",!0,r)));return s}function C(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=cn(e),s=at.support.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=ln(e,t,o),(0>r||null==r)&&(r=e.style[t]),vn.test(r))return r;i=s&&(at.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+S(e,t,n||(s?"border":"content"),i,o)+"px"}function E(e){var t=J,n=bn[e];return n||(n=N(e,t),"none"!==n&&n||(un=(un||at("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=N(e,t),un.detach()),bn[e]=n),n}function N(e,t){var n=at(t.createElement(e)).appendTo(t.body),i=at.css(n[0],"display");return n.remove(),i}function A(e,t,n,i){var r;if(at.isArray(t))at.each(t,function(t,r){n||Sn.test(e)?i(e,r):A(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==at.type(t))i(e,t);else for(r in t)A(e+"["+r+"]",t[r],n,i)}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ct)||[];if(at.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function H(e,t,n,i){function r(a){var l;return o[a]=!0,at.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=e===Bn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function O(e,n){var i,r,o=at.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&at.extend(!0,e,r),e}function D(e,n,i){var r,o,s,a,l=e.contents,c=e.dataTypes,u=e.responseFields;for(o in u)o in i&&(n[u[o]]=i[o]);for(;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function L(e,t){var n,i,r,o,s={},a=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(n in e.converters)s[n.toLowerCase()]=e.converters[n];for(;r=l[++a];)if("*"!==r){if("*"!==c&&c!==r){if(n=s[c+" "+r]||s["* "+r],!n)for(i in s)if(o=i.split(" "),o[1]===r&&(n=s[c+" "+o[0]]||s["* "+o[0]])){n===!0?n=s[i]:s[i]!==!0&&(r=o[0],l.splice(a--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(u){return{state:"parsererror",error:n?u:"No conversion from "+c+" to "+r}}}c=r}return{state:"success",data:t}}function q(){try{return new e.XMLHttpRequest}catch(t){}}function M(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function I(){return setTimeout(function(){Yn=t}),Yn=at.now()}function P(e,t){at.each(t,function(t,n){for(var i=(ii[t]||[]).concat(ii["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function $(e,t,n){var i,r,o=0,s=ni.length,a=at.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Yn||I(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),1>o&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:at.extend({},t),opts:at.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Yn||I(),duration:n.duration,tweens:[],createTween:function(t,n){var i=at.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(R(u,c.opts.specialEasing);s>o;o++)if(i=ni[o].call(c,e,u,c.opts))return i;return P(c,u),at.isFunction(c.opts.start)&&c.opts.start.call(e,c),at.fx.timer(at.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function R(e,t){var n,i,r,o,s;for(n in e)if(i=at.camelCase(n),r=t[i],o=e[n],at.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=at.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function V(e,t,n){var i,r,o,s,a,l,c,u,h,p=this,d=e.style,f={},m=[],g=e.nodeType&&_(e);n.queue||(u=at._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,h=u.empty.fire,u.empty.fire=function(){u.unqueued||h()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,at.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===at.css(e,"display")&&"none"===at.css(e,"float")&&(at.support.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",at.support.shrinkWrapBlocks||p.done(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Zn.exec(o)){if(delete t[i],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(i)}if(s=m.length){a=at._data(e,"fxshow")||at._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?at(e).show():p.done(function(){at(e).hide()}),p.done(function(){var t;at._removeData(e,"fxshow");for(t in f)at.style(e,t,f[t])});for(i=0;s>i;i++)r=m[i],c=p.createTween(r,g?a[r]:0),f[r]=a[r]||at.style(e,r),r in a||(a[r]=c.start,g&&(c.end=c.start,c.start="width"===r||"height"===r?1:0))}}function B(e,t,n,i,r){return new B.prototype.init(e,t,n,i,r)}function F(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=_n[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e){return at.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var W,z,J=e.document,G=e.location,X=e.jQuery,Q=e.$,Y={},K=[],Z="1.9.0",et=K.concat,tt=K.push,nt=K.slice,it=K.indexOf,rt=Y.toString,ot=Y.hasOwnProperty,st=Z.trim,at=function(e,t){return new at.fn.init(e,t,W)},lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=/\S+/g,ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^[\],:{}\s]*$/,ft=/(?:^|:|,)(?:\s*\[)+/g,mt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,gt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,vt=/^-ms-/,yt=/-([\da-z])/gi,bt=function(e,t){return t.toUpperCase()},wt=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",wt,!1),at.ready()):"complete"===J.readyState&&(J.detachEvent("onreadystatechange",wt),at.ready())};at.fn=at.prototype={jquery:Z,constructor:at,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof at?n[0]:n,at.merge(this,at.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:J,!0)),pt.test(r[1])&&at.isPlainObject(n))for(r in n)at.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=J.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):at.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),at.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return nt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=at.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return at.each(this,e,t)},ready:function(e){return at.ready.promise().done(e),this},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(at.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:tt,sort:[].sort,splice:[].splice},at.fn.init.prototype=at.fn,at.extend=at.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||at.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)i=a[n],r=e[n],a!==r&&(u&&r&&(at.isPlainObject(r)||(o=at.isArray(r)))?(o?(o=!1,s=i&&at.isArray(i)?i:[]):s=i&&at.isPlainObject(i)?i:{},a[n]=at.extend(u,s,r)):r!==t&&(a[n]=r));return a},at.extend({noConflict:function(t){return e.$===at&&(e.$=Q),t&&e.jQuery===at&&(e.jQuery=X),at},isReady:!1,readyWait:1,holdReady:function(e){e?at.readyWait++:at.ready(!0)},ready:function(e){if(e===!0?!--at.readyWait:!at.isReady){if(!J.body)return setTimeout(at.ready);at.isReady=!0,e!==!0&&--at.readyWait>0||(z.resolveWith(J,[at]),at.fn.trigger&&at(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===at.type(e)},isArray:Array.isArray||function(e){return"array"===at.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Y[rt.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==at.type(e)||e.nodeType||at.isWindow(e))return!1;try{if(e.constructor&&!ot.call(e,"constructor")&&!ot.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||ot.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var i=pt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=at.buildFragment([e],t,r),r&&at(r).remove(),at.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=at.trim(t),t&&dt.test(t.replace(mt,"@").replace(gt,"]").replace(ft,"")))?new Function("return "+t)():void at.error("Invalid JSON: "+t)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||at.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&at.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(vt,"ms-").replace(yt,bt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:st&&!st.call("﻿ ")?function(e){return null==e?"":st.call(e)}:function(e){return null==e?"":(e+"").replace(ut,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?at.merge(i,"string"==typeof e?[e]:e):tt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(it)return it.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return et.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),at.isFunction(e)?(r=nt.call(arguments,2),o=function(){return e.apply(n||this,r.concat(nt.call(arguments)))},o.guid=e.guid=e.guid||at.guid++,o):t},access:function(e,n,i,r,o,s,a){var l=0,c=e.length,u=null==i;if("object"===at.type(i)){o=!0;for(l in i)at.access(e,n,l,i[l],!0,s,a)}else if(r!==t&&(o=!0,at.isFunction(r)||(a=!0),u&&(a?(n.call(e,r),n=null):(u=n,n=function(e,t,n){return u.call(at(e),n)})),n))for(;c>l;l++)n(e[l],i,a?r:r.call(e[l],l,n(e[l],i)));return o?e:u?n.call(e):c?n(e[0],i):s},now:function(){return(new Date).getTime()}}),at.ready.promise=function(t){if(!z)if(z=at.Deferred(),"complete"===J.readyState)setTimeout(at.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",at.ready,!1);else{J.attachEvent("onreadystatechange",wt),e.attachEvent("onload",at.ready);var n=!1;try{n=null==e.frameElement&&J.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!at.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}at.ready()}}()}return z.promise(t)},at.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()}),W=at(J);var xt={};at.Callbacks=function(e){e="string"==typeof e?xt[e]||i(e):at.extend({},e);var n,r,o,s,a,l,c=[],u=!e.once&&[],h=function(t){for(n=e.memory&&t,r=!0,l=s||0,s=0,a=c.length,o=!0;c&&a>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(u?u.length&&h(u.shift()):n?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function i(t){at.each(t,function(t,n){var r=at.type(n);"function"===r?e.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),o?a=c.length:n&&(s=t,h(n))}return this},remove:function(){return c&&at.each(arguments,function(e,t){for(var n;(n=at.inArray(t,c,n))>-1;)c.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(e){return at.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=u=n=t,this},disabled:function(){return!c},lock:function(){return u=t,n||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||r&&!u||(o?u.push(t):h(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},at.extend({Deferred:function(e){var t=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return at.Deferred(function(n){at.each(t,function(t,o){var s=o[0],a=at.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&at.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?at.extend(e,i):i}},r={};return i.pipe=i.then,at.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=nt.call(arguments),s=o.length,a=1!==s||e&&at.isFunction(e.promise)?s:0,l=1===a?e:at.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?nt.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&at.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}}),at.support=function(){var t,n,i,r,o,s,a,l,c,u,h=J.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),i=h.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=J.createElement("select"),o=r.appendChild(J.createElement("option")),s=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==h.className,leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!s.value,optSelected:o.selected,enctype:!!J.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===J.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}s=J.createElement("input"),s.setAttribute("value",""),t.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),a=J.createDocumentFragment(),a.appendChild(s),t.appendChecked=s.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||h.attributes[l].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip,at(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=J.getElementsByTagName("body")[0];s&&(n=J.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=h.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===h.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(h,null)||{width:"4px"}).width,i=h.appendChild(J.createElement("div")),i.style.cssText=h.style.cssText=o,i.style.marginRight=i.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),"undefined"!=typeof h.style.zoom&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,s.style.zoom=1),s.removeChild(n),n=h=r=i=null)}),n=r=a=o=i=s=null,t}();var _t=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,kt=/([A-Z])/g;at.extend({cache:{},expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?at.cache[e[at.expando]]:e[at.expando],!!e&&!a(e)},data:function(e,t,n){return r(e,t,n,!1)},removeData:function(e,t){return o(e,t,!1)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){var t=e.nodeName&&at.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),at.fn.extend({data:function(e,n){var i,r,o=this[0],a=0,l=null;if(e===t){if(this.length&&(l=at.data(o),1===o.nodeType&&!at._data(o,"parsedAttrs"))){for(i=o.attributes;a<i.length;a++)r=i[a].name,r.indexOf("data-")||(r=at.camelCase(r.substring(5)),s(o,r,l[r]));at._data(o,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){at.data(this,e)}):at.access(this,function(n){return n===t?o?s(o,e,at.data(o,e)):null:void this.each(function(){at.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){at.removeData(this,e)})}}),at.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=at._data(e,t),n&&(!i||at.isArray(n)?i=at._data(e,t,at.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=at.queue(e,t),i=n.length,r=n.shift(),o=at._queueHooks(e,t),s=function(){at.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),o.cur=r,r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return at._data(e,n)||at._data(e,n,{empty:at.Callbacks("once memory").add(function(){at._removeData(e,t+"queue"),at._removeData(e,n)})})}}),at.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?at.queue(this[0],e):n===t?this:this.each(function(){var t=at.queue(this,e,n);at._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&at.dequeue(this,e)})},dequeue:function(e){return this.each(function(){at.dequeue(this,e)})},delay:function(e,t){return e=at.fx?at.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=at.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=at._data(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var Tt,St,Ct=/[\t\r\n]/g,Et=/\r/g,Nt=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i,jt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Ht=/^(?:checked|selected)$/i,Ot=at.support.getSetAttribute,Dt=at.support.input;at.fn.extend({attr:function(e,t){return at.access(this,at.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){at.removeAttr(this,e)})},prop:function(e,t){return at.access(this,at.prop,e,t,arguments.length>1)},removeProp:function(e){return e=at.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s=0,a=this.length,l="string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ct)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ct," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=at.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ct)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ct," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?at.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return this.each(at.isFunction(e)?function(n){at(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var r,o=0,s=at(this),a=t,l=e.match(ct)||[];r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&at._data(this,"__className__",this.className),this.className=this.className||e===!1?"":at._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ct," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=at.isFunction(e),this.each(function(i){var o,s=at(this);1===this.nodeType&&(o=r?e.call(this,i,s.val()):e,null==o?o="":"number"==typeof o?o+="":at.isArray(o)&&(o=at.map(o,function(e){return null==e?"":e+""})),n=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))
});if(o)return n=at.valHooks[o.type]||at.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(Et,""):null==i?"":i)}}}),at.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(at.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&at.nodeName(n.parentNode,"optgroup"))){if(t=at(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n=at.makeArray(t);return at(e).find("option").each(function(){this.selected=at.inArray(at(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return"undefined"==typeof e.getAttribute?at.prop(e,n,i):(s=1!==a||!at.isXMLDoc(e),s&&(n=n.toLowerCase(),o=at.attrHooks[n]||(jt.test(n)?St:Tt)),i===t?o&&s&&"get"in o&&null!==(r=o.get(e,n))?r:("undefined"!=typeof e.getAttribute&&(r=e.getAttribute(n)),null==r?t:r):null!==i?o&&s&&"set"in o&&(r=o.set(e,i,n))!==t?r:(e.setAttribute(n,i+""),i):void at.removeAttr(e,n))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ct);if(o&&1===e.nodeType)for(;n=o[r++];)i=at.propFix[n]||n,jt.test(n)?!Ot&&Ht.test(n)?e[at.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:at.attr(e,n,""),e.removeAttribute(Ot?n:i)},attrHooks:{type:{set:function(e,t){if(!at.support.radioValue&&"radio"===t&&at.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!at.isXMLDoc(e),s&&(n=at.propFix[n]||n,o=at.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Nt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:t}}}}),St={get:function(e,n){var i=at.prop(e,n),r="boolean"==typeof i&&e.getAttribute(n),o="boolean"==typeof i?Dt&&Ot?null!=r:Ht.test(n)?e[at.camelCase("default-"+n)]:!!r:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?at.removeAttr(e,n):Dt&&Ot||!Ht.test(n)?e.setAttribute(!Ot&&at.propFix[n]||n,n):e[at.camelCase("default-"+n)]=e[n]=!0,n}},Dt&&Ot||(at.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return at.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,t,n){return at.nodeName(e,"input")?void(e.defaultValue=t):Tt&&Tt.set(e,t,n)}}),Ot||(Tt=at.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},at.attrHooks.contenteditable={get:Tt.get,set:function(e,t,n){Tt.set(e,""===t?!1:t,n)}},at.each(["width","height"],function(e,t){at.attrHooks[t]=at.extend(at.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),at.support.hrefNormalized||(at.each(["href","src","width","height"],function(e,n){at.attrHooks[n]=at.extend(at.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),at.each(["href","src"],function(e,t){at.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),at.support.style||(at.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),at.support.optSelected||(at.propHooks.selected=at.extend(at.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),at.support.enctype||(at.propFix.enctype="encoding"),at.support.checkOn||at.each(["radio","checkbox"],function(){at.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),at.each(["radio","checkbox"],function(){at.valHooks[this]=at.extend(at.valHooks[this],{set:function(e,t){return at.isArray(t)?e.checked=at.inArray(at(e).val(),t)>=0:void 0}})});var Lt=/^(?:input|select|textarea)$/i,qt=/^key/,Mt=/^(?:mouse|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Pt=/^([^.]*)(?:\.(.+)|)$/;at.event={global:{},add:function(e,n,i,r,o){var s,a,l,c,u,h,p,d,f,m,g,v=3!==e.nodeType&&8!==e.nodeType&&at._data(e);if(v){for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=at.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(e){return"undefined"==typeof at||e&&at.event.triggered===e.type?t:at.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=(n||"").match(ct)||[""],u=n.length;u--;)l=Pt.exec(n[u])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),p=at.event.special[f]||{},f=(o?p.delegateType:p.bindType)||f,p=at.event.special[f]||{},h=at.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&at.expr.match.needsContext.test(o),namespace:m.join(".")},s),(d=c[f])||(d=c[f]=[],d.delegateCount=0,p.setup&&p.setup.call(e,r,m,a)!==!1||(e.addEventListener?e.addEventListener(f,a,!1):e.attachEvent&&e.attachEvent("on"+f,a))),p.add&&(p.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),at.event.global[f]=!0;e=null}},remove:function(e,t,n,i,r){var o,s,a,l,c,u,h,p,d,f,m,g=at.hasData(e)&&at._data(e);if(g&&(l=g.events)){for(t=(t||"").match(ct)||[""],c=t.length;c--;)if(a=Pt.exec(t[c])||[],d=m=a[1],f=(a[2]||"").split(".").sort(),d){for(h=at.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,h.remove&&h.remove.call(e,u));s&&!p.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||at.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)at.event.remove(e,d+t[c],n,i,!0);at.isEmptyObject(l)&&(delete g.handle,at._removeData(e,"events"))}},trigger:function(n,i,r,o){var s,a,l,c,u,h,p,d=[r||J],f=n.type||n,m=n.namespace?n.namespace.split("."):[];if(a=l=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!It.test(f+at.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),u=f.indexOf(":")<0&&"on"+f,n=n[at.expando]?n:new at.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:at.makeArray(i,[n]),p=at.event.special[f]||{},o||!p.trigger||p.trigger.apply(r,i)!==!1)){if(!o&&!p.noBubble&&!at.isWindow(r)){for(c=p.delegateType||f,It.test(c+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),l=a;l===(r.ownerDocument||J)&&d.push(l.defaultView||l.parentWindow||e)}for(s=0;(a=d[s++])&&!n.isPropagationStopped();)n.type=s>1?c:p.bindType||f,h=(at._data(a,"events")||{})[n.type]&&at._data(a,"handle"),h&&h.apply(a,i),h=u&&a[u],h&&at.acceptData(a)&&h.apply&&h.apply(a,i)===!1&&n.preventDefault();if(n.type=f,!(o||n.isDefaultPrevented()||p._default&&p._default.apply(r.ownerDocument,i)!==!1||"click"===f&&at.nodeName(r,"a")||!at.acceptData(r)||!u||!r[f]||at.isWindow(r))){l=r[u],l&&(r[u]=null),at.event.triggered=f;try{r[f]()}catch(g){}at.event.triggered=t,l&&(r[u]=l)}return n.result}},dispatch:function(e){e=at.event.fix(e);var n,i,r,o,s,a=[],l=nt.call(arguments),c=(at._data(this,"events")||{})[e.type]||[],u=at.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=at.event.handlers.call(this,e,c),n=0;(o=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,r=((at.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,s,a=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(r=[],i=0;l>i;i++)s=n[i],o=s.selector+" ",r[o]===t&&(r[o]=s.needsContext?at(o,this).index(c)>=0:at.find(o,this,null,[c]).length),r[o]&&r.push(s);r.length&&a.push({elem:c,handlers:r})}return l<n.length&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(e){if(e[at.expando])return e;var t,n,i=e,r=at.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=new at.Event(i),t=o.length;t--;)n=o[t],e[n]=i[n];return e.target||(e.target=i.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||J,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return at.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==J.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===J.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=at.extend(new at.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?at.event.trigger(r,null,t):at.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},at.removeEvent=J.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},at.Event=function(e,t){return this instanceof at.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&at.extend(this,t),this.timeStamp=e&&e.timeStamp||at.now(),void(this[at.expando]=!0)):new at.Event(e,t)},at.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){at.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!at.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),at.support.submitBubbles||(at.event.special.submit={setup:function(){return at.nodeName(this,"form")?!1:void at.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=at.nodeName(n,"input")||at.nodeName(n,"button")?n.form:t;i&&!at._data(i,"submitBubbles")&&(at.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),at._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&at.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return at.nodeName(this,"form")?!1:void at.event.remove(this,"._submit")}}),at.support.changeBubbles||(at.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(at.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),at.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),at.event.simulate("change",this,e,!0)})),!1):void at.event.add(this,"beforeactivate._change",function(e){var t=e.target;Lt.test(t.nodeName)&&!at._data(t,"changeBubbles")&&(at.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||at.event.simulate("change",this.parentNode,e,!0)}),at._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return at.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),at.support.focusinBubbles||at.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){at.event.simulate(t,e.target,at.event.fix(e),!0)};at.event.special[t]={setup:function(){0===n++&&J.addEventListener(e,i,!0)},teardown:function(){0===--n&&J.removeEventListener(e,i,!0)}}}),at.fn.extend({on:function(e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(e){return at().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=at.guid++)),this.each(function(){at.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,at(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){at.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){at.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?at.event.trigger(e,t,n,!0):void 0},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){at.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)},qt.test(t)&&(at.event.fixHooks[t]=at.event.keyHooks),Mt.test(t)&&(at.event.fixHooks[t]=at.event.mouseHooks)}),function(e,t){function n(e){return ft.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>T.cacheLength&&delete e[t.shift()],e[n]=i}}function r(e){return e[$]=!0,e}function o(e){var t=H.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function s(e,t,n,i){var r,o,s,a,l,c,u,d,f,m;if((t?t.ownerDocument||t:R)!==H&&j(t),t=t||H,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(!D&&!i){if(r=mt.exec(e))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&I(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Y.apply(n,K.call(t.getElementsByTagName(e),0)),n;if((s=r[3])&&V.getByClassName&&t.getElementsByClassName)return Y.apply(n,K.call(t.getElementsByClassName(s),0)),n}if(V.qsa&&!L.test(e)){if(u=!0,d=$,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(u=t.getAttribute("id"))?d=u.replace(yt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+p(c[l]);f=dt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return Y.apply(n,K.call(f.querySelectorAll(m),0)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return w(e.replace(st,"$1"),t,n,i)}function a(e,t){for(var n=e&&t&&e.nextSibling;n;n=n.nextSibling)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function h(e,t){var n,i,r,o,a,l,c,u=W[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=T.preFilter;a;){(!n||(i=lt.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),n=!1,(i=ct.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(st," ")}),a=a.slice(n.length));for(o in T.filter)!(i=pt[o].exec(a))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?s.error(e):W(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=F++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,c,u=B+" "+o;if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[$]||(t[$]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===k)return a===!0}else if(l=c[i]=[u],l[1]=e(t,n,s)||k,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function g(e,t,n,i,o,s){return i&&!i[$]&&(i=g(i)),o&&!o[$]&&(o=g(o,s)),r(function(r,s,a,l){var c,u,h,p=[],d=[],f=s.length,g=r||b(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?g:m(g,p,e,a,l),y=n?o||(r?e:f||i)?[]:s:v;if(n&&n(v,y,a,l),i)for(c=m(y,d),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[d[u]]=!(v[d[u]]=h));if(r){if(o||e){if(o){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);o(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=o?Z.call(r,h):p[u])>-1&&(r[c]=!(s[c]=h))}}else y=m(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):Y.apply(s,y)})}function v(e){for(var t,n,i,r=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,l=d(function(e){return e===t},s,!0),c=d(function(e){return Z.call(t,e)>-1},s,!0),u=[function(e,n,i){return!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>a;a++)if(n=T.relative[e[a].type])u=[d(f(u),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[$]){for(i=++a;r>i&&!T.relative[e[i].type];i++);return g(a>1&&f(u),a>1&&p(e.slice(0,a-1)).replace(st,"$1"),n,i>a&&v(e.slice(a,i)),r>i&&v(e=e.slice(i)),r>i&&p(e))}u.push(n)}return f(u)}function y(e,t){var n=0,i=t.length>0,o=e.length>0,a=function(r,a,l,c,u){var h,p,d,f=[],g=0,v="0",y=r&&[],b=null!=u,w=A,x=r||o&&T.find.TAG("*",u&&a.parentNode||a),_=B+=null==w?1:Math.E;for(b&&(A=a!==H&&a,k=n);null!=(h=x[v]);v++){if(o&&h){for(p=0;d=e[p];p++)if(d(h,a,l)){c.push(h);break}b&&(B=_,k=++n)}i&&((h=!d&&h)&&g--,r&&y.push(h))}if(g+=v,i&&v!==g){for(p=0;d=t[p];p++)d(y,f,a,l);if(r){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=Q.call(c));f=m(f)}Y.apply(c,f),b&&!r&&f.length>0&&g+t.length>1&&s.uniqueSort(c)}return b&&(B=_,A=w),y};return i?r(a):a}function b(e,t,n){for(var i=0,r=t.length;r>i;i++)s(e,t[i],n);return n}function w(e,t,n,i){var r,o,s,a,l,c=h(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&!D&&T.relative[o[1].type]){if(t=T.find.ID(s.matches[0].replace(wt,xt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=pt.needsContext.test(e)?-1:o.length-1;r>=0&&(s=o[r],!T.relative[a=s.type]);r--)if((l=T.find[a])&&(i=l(s.matches[0].replace(wt,xt),dt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return Y.apply(n,K.call(i,0)),n;break}}return E(e,c)(i,t,D,n,dt.test(e)),n}function x(){}var _,k,T,S,C,E,N,A,j,H,O,D,L,q,M,I,P,$="sizzle"+-new Date,R=e.document,V={},B=0,F=0,U=i(),W=i(),z=i(),J=typeof t,G=1<<31,X=[],Q=X.pop,Y=X.push,K=X.slice,Z=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",rt="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",st=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),lt=new RegExp("^"+et+"*,"+et+"*"),ct=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ut=new RegExp(ot),ht=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},dt=/[\x20\t\r\n\f]*[+~]/,ft=/\{\s*\[native code\]\s*\}/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,wt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,xt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{K.call(O.childNodes,0)[0].nodeType}catch(_t){K=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}C=s.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},j=s.setDocument=function(e){var i=e?e.ownerDocument||e:R;return i!==H&&9===i.nodeType&&i.documentElement?(H=i,O=i.documentElement,D=C(i),V.tagNameNoComments=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),V.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),V.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),V.getByName=o(function(e){e.id=$+0,e.innerHTML="<a name='"+$+"'></a><div name='"+$+"'></div>",O.insertBefore(e,O.firstChild);var t=i.getElementsByName&&i.getElementsByName($).length===2+i.getElementsByName($+0).length;return V.getIdNotName=!i.getElementById($),O.removeChild(e),t}),T.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==J&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},V.getIdNotName?(T.find.ID=function(e,t){if(typeof t.getElementById!==J&&!D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){return e.getAttribute("id")===t}}):(T.find.ID=function(e,n){if(typeof n.getElementById!==J&&!D){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==J&&i.getAttributeNode("id").value===e?[i]:t:[]}},T.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){var n=typeof e.getAttributeNode!==J&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=V.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==J?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r];r++)1===n.nodeType&&i.push(n);return i}return o},T.find.NAME=V.getByName&&function(e,t){return typeof t.getElementsByName!==J?t.getElementsByName(name):void 0},T.find.CLASS=V.getByClassName&&function(e,t){return typeof t.getElementsByClassName===J||D?void 0:t.getElementsByClassName(e)},q=[],L=[":focus"],(V.qsa=n(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||L.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||L.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&L.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(V.matchesSelector=n(M=O.matchesSelector||O.mozMatchesSelector||O.webkitMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){V.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),q.push("!=",ot)}),L=new RegExp(L.join("|")),q=new RegExp(q.join("|")),I=n(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},P=O.compareDocumentPosition?function(e,t){var n;return e===t?(N=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||I(R,e)?-1:t===i||I(R,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(e===t)return N=!0,0;if(e.sourceIndex&&t.sourceIndex)return(~t.sourceIndex||G)-(I(R,e)&&~e.sourceIndex||G);if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===R?-1:c[r]===R?1:0},N=!1,[0,0].sort(P),V.detectDuplicates=N,H):H},s.matches=function(e,t){return s(e,null,null,t)},s.matchesSelector=function(e,t){if((e.ownerDocument||e)!==H&&j(e),t=t.replace(bt,"='$1']"),!(!V.matchesSelector||D||q&&q.test(t)||L.test(t)))try{var n=M.call(e,t);if(n||V.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return s(t,H,null,[e]).length>0},s.contains=function(e,t){return(e.ownerDocument||e)!==H&&j(e),I(e,t)},s.attr=function(e,t){var n;return(e.ownerDocument||e)!==H&&j(e),D||(t=t.toLowerCase()),(n=T.attrHandle[t])?n(e):D||V.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},s.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},s.uniqueSort=function(e){var t,n=[],i=1,r=0;if(N=!V.detectDuplicates,e.sort(P),N){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},S=s.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=S(t);return n},T=s.selectors={cacheLength:50,createPseudo:r,match:pt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,xt),e[3]=(e[4]||e[5]||"").replace(wt,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||s.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&s.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return pt.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ut.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(wt,xt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&U(e,function(e){return t.test(e.className||typeof e.getAttribute!==J&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=s.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.substr(r.length-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,p,d,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(u=g[$]||(g[$]={}),c=u[e]||[],d=c[0]===B&&c[1],p=c[0]===B&&c[2],h=d&&g.childNodes[d];h=++d&&h&&h[m]||(p=d=0)||f.pop();)if(1===h.nodeType&&++p&&h===t){u[e]=[B,d,p];break}}else if(y&&(c=(t[$]||(t[$]={}))[e])&&c[0]===B)p=c[1];else for(;(h=++d&&h&&h[m]||(p=d=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(y&&((h[$]||(h[$]={}))[e]=[B,p]),h!==t)););return p-=r,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,t){var n,i=T.pseudos[e]||T.setFilters[e.toLowerCase()]||s.error("unsupported pseudo: "+e);return i[$]?i(t):i.length>1?(n=[e,e,"",t],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)r=Z.call(e,o[s]),e[r]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(st,"$1"));return i[$]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return s(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return ht.test(e||"")||s.error("unsupported lang: "+e),e=e.replace(wt,xt).toLowerCase(),function(t){var n;do if(n=D?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)
},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}};for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[_]=l(_);for(_ in{submit:!0,reset:!0})T.pseudos[_]=c(_);E=s.compile=function(e,t){var n,i=[],r=[],o=z[e+" "];if(!o){for(t||(t=h(e)),n=t.length;n--;)o=v(t[n]),o[$]?i.push(o):r.push(o);o=z(e,y(r,i))}return o},T.pseudos.nth=T.pseudos.eq,T.filters=x.prototype=T.pseudos,T.setFilters=new x,j(),s.attr=at.attr,at.find=s,at.expr=s.selectors,at.expr[":"]=at.expr.pseudos,at.unique=s.uniqueSort,at.text=s.getText,at.isXMLDoc=s.isXML,at.contains=s.contains}(e);var $t=/Until$/,Rt=/^(?:parents|prev(?:Until|All))/,Vt=/^.[^:#\[\.,]*$/,Bt=at.expr.match.needsContext,Ft={children:!0,contents:!0,next:!0,prev:!0};at.fn.extend({find:function(e){var t,n,i;if("string"!=typeof e)return i=this,this.pushStack(at(e).filter(function(){for(t=0;t<i.length;t++)if(at.contains(i[t],this))return!0}));for(n=[],t=0;t<this.length;t++)at.find(e,this[t],n);return n=this.pushStack(at.unique(n)),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=at(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(at.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(h(this,e,!1))},filter:function(e){return this.pushStack(h(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Bt.test(e)?at(e,this.context).index(this[0])>=0:at.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=Bt.test(e)||"string"!=typeof e?at(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(s?s.index(n)>-1:at.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?at.unique(o):o)},index:function(e){return e?"string"==typeof e?at.inArray(this[0],at(e)):at.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?at(e,t):at.makeArray(e&&e.nodeType?[e]:e),i=at.merge(this.get(),n);return this.pushStack(at.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),at.fn.andSelf=at.fn.addBack,at.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return at.dir(e,"parentNode")},parentsUntil:function(e,t,n){return at.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return at.dir(e,"nextSibling")},prevAll:function(e){return at.dir(e,"previousSibling")},nextUntil:function(e,t,n){return at.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return at.dir(e,"previousSibling",n)},siblings:function(e){return at.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return at.sibling(e.firstChild)},contents:function(e){return at.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:at.merge([],e.childNodes)}},function(e,t){at.fn[e]=function(n,i){var r=at.map(this,t,n);return $t.test(e)||(i=n),i&&"string"==typeof i&&(r=at.filter(i,r)),r=this.length>1&&!Ft[e]?at.unique(r):r,this.length>1&&Rt.test(e)&&(r=r.reverse()),this.pushStack(r)}}),at.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?at.find.matchesSelector(t[0],e)?[t[0]]:[]:at.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!at(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,zt=new RegExp("<(?:"+Ut+")[\\s/>]","i"),Jt=/^\s+/,Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xt=/<([\w:]+)/,Qt=/<tbody/i,Yt=/<|&#?\w+;/,Kt=/<(?:script|style|link)/i,Zt=/^(?:checkbox|radio)$/i,en=/checked\s*(?:[^=]|=\s*.checked.)/i,tn=/^$|\/(?:java|ecma)script/i,nn=/^true\/(.*)/,rn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,on={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:at.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sn=p(J),an=sn.appendChild(J.createElement("div"));on.optgroup=on.option,on.tbody=on.tfoot=on.colgroup=on.caption=on.thead,on.th=on.td,at.fn.extend({text:function(e){return at.access(this,function(e){return e===t?at.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(at.isFunction(e))return this.each(function(t){at(this).wrapAll(e.call(this,t))});if(this[0]){var t=at(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(at.isFunction(e)?function(t){at(this).wrapInner(e.call(this,t))}:function(){var t=at(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=at.isFunction(e);return this.each(function(n){at(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||at.filter(e,[n]).length>0)&&(t||1!==n.nodeType||at.cleanData(b(n)),n.parentNode&&(t&&at.contains(n.ownerDocument,n)&&g(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&at.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&at.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return at.clone(this,e,t)})},html:function(e){return at.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Wt,""):t;if(!("string"!=typeof e||Kt.test(e)||!at.support.htmlSerialize&&zt.test(e)||!at.support.leadingWhitespace&&Jt.test(e)||on[(Xt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Gt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(at.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=at.isFunction(e);return t||"string"==typeof e||(e=at(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;(n&&1===this.nodeType||11===this.nodeType)&&(at(this).remove(),t?t.parentNode.insertBefore(e,t):n.appendChild(e))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=et.apply([],e);var r,o,s,a,l,c,u=0,h=this.length,p=this,g=h-1,v=e[0],y=at.isFunction(v);if(y||!(1>=h||"string"!=typeof v||at.support.checkClone)&&en.test(v))return this.each(function(r){var o=p.eq(r);y&&(e[0]=v.call(this,r,n?o.html():t)),o.domManip(e,n,i)});if(h&&(r=at.buildFragment(e,this[0].ownerDocument,!1,this),o=r.firstChild,1===r.childNodes.length&&(r=o),o)){for(n=n&&at.nodeName(o,"tr"),s=at.map(b(r,"script"),f),a=s.length;h>u;u++)l=r,u!==g&&(l=at.clone(l,!0,!0),a&&at.merge(s,b(l,"script"))),i.call(n&&at.nodeName(this[u],"table")?d(this[u],"tbody"):this[u],l,u);if(a)for(c=s[s.length-1].ownerDocument,at.map(s,m),u=0;a>u;u++)l=s[u],tn.test(l.type||"")&&!at._data(l,"globalEval")&&at.contains(c,l)&&(l.src?at.ajax({url:l.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):at.globalEval((l.text||l.textContent||l.innerHTML||"").replace(rn,"")));r=o=null}return this}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){at.fn[e]=function(e){for(var n,i=0,r=[],o=at(e),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),at(o[i])[t](n),tt.apply(r,n.get());return this.pushStack(r)}}),at.extend({clone:function(e,t,n){var i,r,o,s,a,l=at.contains(e.ownerDocument,e);if(at.support.html5Clone||at.isXMLDoc(e)||!zt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(an.innerHTML=e.outerHTML,an.removeChild(a=an.firstChild)),!(at.support.noCloneEvent&&at.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||at.isXMLDoc(e)))for(i=b(a),r=b(e),s=0;null!=(o=r[s]);++s)i[s]&&y(o,i[s]);if(t)if(n)for(r=r||b(e),i=i||b(a),s=0;null!=(o=r[s]);s++)v(o,i[s]);else v(e,a);return i=b(a,"script"),i.length>0&&g(i,!l&&b(e,"script")),i=r=o=null,a},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,c,u,h=e.length,d=p(t),f=[],m=0;h>m;m++)if(o=e[m],o||0===o)if("object"===at.type(o))at.merge(f,o.nodeType?[o]:o);else if(Yt.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(Xt.exec(o)||["",""])[1].toLowerCase(),l=on[s]||on._default,a.innerHTML=l[1]+o.replace(Gt,"<$1></$2>")+l[2],u=l[0];u--;)a=a.lastChild;if(!at.support.leadingWhitespace&&Jt.test(o)&&f.push(t.createTextNode(Jt.exec(o)[0])),!at.support.tbody)for(o="table"!==s||Qt.test(o)?"<table>"!==l[1]||Qt.test(o)?0:a:a.firstChild,u=o&&o.childNodes.length;u--;)at.nodeName(c=o.childNodes[u],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(at.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(t.createTextNode(o));for(a&&d.removeChild(a),at.support.appendChecked||at.grep(b(f,"input"),w),m=0;o=f[m++];)if((!i||-1===at.inArray(o,i))&&(r=at.contains(o.ownerDocument,o),a=b(d.appendChild(o),"script"),r&&g(a),n))for(u=0;o=a[u++];)tn.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(e,t){for(var n,i,r,o,s=0,a=at.expando,l=at.cache,c=at.support.deleteExpando,u=at.event.special;null!=(r=e[s]);s++)if((t||at.acceptData(r))&&(i=r[a],n=i&&l[i])){if(n.events)for(o in n.events)u[o]?at.event.remove(r,o):at.removeEvent(r,o,n.handle);l[i]&&(delete l[i],c?delete r[a]:"undefined"!=typeof r.removeAttribute?r.removeAttribute(a):r[a]=null,K.push(i))}}});var ln,cn,un,hn=/alpha\([^)]*\)/i,pn=/opacity\s*=\s*([^)]*)/,dn=/^(top|right|bottom|left)$/,fn=/^(none|table(?!-c[ea]).+)/,mn=/^margin/,gn=new RegExp("^("+lt+")(.*)$","i"),vn=new RegExp("^("+lt+")(?!px)[a-z%]+$","i"),yn=new RegExp("^([+-])=("+lt+")","i"),bn={BODY:"block"},wn={position:"absolute",visibility:"hidden",display:"block"},xn={letterSpacing:0,fontWeight:400},_n=["Top","Right","Bottom","Left"],kn=["Webkit","O","Moz","ms"];at.fn.extend({css:function(e,n){return at.access(this,function(e,n,i){var r,o,s={},a=0;if(at.isArray(n)){for(r=cn(e),o=n.length;o>a;a++)s[n[a]]=at.css(e,n[a],!1,r);return s}return i!==t?at.style(e,n,i):at.css(e,n)},e,n,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:_(this))?at(this).show():at(this).hide()})}}),at.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ln(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":at.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=at.camelCase(n),c=e.style;if(n=at.cssProps[l]||(at.cssProps[l]=x(c,l)),a=at.cssHooks[n]||at.cssHooks[l],i===t)return a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:c[n];if(s=typeof i,"string"===s&&(o=yn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(at.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||at.cssNumber[l]||(i+="px"),at.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(e,i,r))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,r){var o,s,a,l=at.camelCase(n);return n=at.cssProps[l]||(at.cssProps[l]=x(e.style,l)),a=at.cssHooks[n]||at.cssHooks[l],a&&"get"in a&&(o=a.get(e,!0,i)),o===t&&(o=ln(e,n,r)),"normal"===o&&n in xn&&(o=xn[n]),i?(s=parseFloat(o),i===!0||at.isNumeric(s)?s||0:o):o},swap:function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r}}),e.getComputedStyle?(cn=function(t){return e.getComputedStyle(t,null)},ln=function(e,n,i){var r,o,s,a=i||cn(e),l=a?a.getPropertyValue(n)||a[n]:t,c=e.style;return a&&(""!==l||at.contains(e.ownerDocument,e)||(l=at.style(e,n)),vn.test(l)&&mn.test(n)&&(r=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=r,c.minWidth=o,c.maxWidth=s)),l}):J.documentElement.currentStyle&&(cn=function(e){return e.currentStyle},ln=function(e,n,i){var r,o,s,a=i||cn(e),l=a?a[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),vn.test(l)&&!dn.test(n)&&(r=c.left,o=e.runtimeStyle,s=o&&o.left,s&&(o.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,s&&(o.left=s)),""===l?"auto":l}),at.each(["height","width"],function(e,t){at.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&fn.test(at.css(e,"display"))?at.swap(e,wn,function(){return C(e,t,i)}):C(e,t,i):void 0},set:function(e,n,i){var r=i&&cn(e);return T(e,n,i?S(e,t,i,at.support.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,r),r):0)}}}),at.support.opacity||(at.cssHooks.opacity={get:function(e,t){return pn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=at.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===at.trim(o.replace(hn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=hn.test(o)?o.replace(hn,r):o+" "+r)}}),at(function(){at.support.reliableMarginRight||(at.cssHooks.marginRight={get:function(e,t){return t?at.swap(e,{display:"inline-block"},ln,[e,"marginRight"]):void 0}}),!at.support.pixelPosition&&at.fn.position&&at.each(["top","left"],function(e,t){at.cssHooks[t]={get:function(e,n){return n?(n=ln(e,t),vn.test(n)?at(e).position()[t]+"px":n):void 0}}})}),at.expr&&at.expr.filters&&(at.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!at.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||at.css(e,"display"))},at.expr.filters.visible=function(e){return!at.expr.filters.hidden(e)}),at.each({margin:"",padding:"",border:"Width"},function(e,t){at.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+_n[i]+t]=o[i]||o[i-2]||o[0];return r}},mn.test(e)||(at.cssHooks[e+t].set=T)});var Tn=/%20/g,Sn=/\[\]$/,Cn=/\r?\n/g,En=/^(?:submit|button|image|reset)$/i,Nn=/^(?:input|select|textarea|keygen)/i;at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=at.prop(this,"elements");return e?at.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!at(this).is(":disabled")&&Nn.test(this.nodeName)&&!En.test(e)&&(this.checked||!Zt.test(e))}).map(function(e,t){var n=at(this).val();return null==n?null:at.isArray(n)?at.map(n,function(e){return{name:t.name,value:e.replace(Cn,"\r\n")}}):{name:t.name,value:n.replace(Cn,"\r\n")}}).get()}}),at.param=function(e,n){var i,r=[],o=function(e,t){t=at.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(e)||e.jquery&&!at.isPlainObject(e))at.each(e,function(){o(this.name,this.value)});else for(i in e)A(i,e[i],n,o);return r.join("&").replace(Tn,"+")};var An,jn,Hn=at.now(),On=/\?/,Dn=/#.*$/,Ln=/([?&])_=[^&]*/,qn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,In=/^(?:GET|HEAD)$/,Pn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Rn=at.fn.load,Vn={},Bn={},Fn="*/".concat("*");try{jn=G.href}catch(Un){jn=J.createElement("a"),jn.href="",jn=jn.href}An=$n.exec(jn.toLowerCase())||[],at.fn.load=function(e,n,i){if("string"!=typeof e&&Rn)return Rn.apply(this,arguments);var r,o,s,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),at.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),a.length>0&&at.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,a.html(r?at("<div>").append(at.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){a.each(i,s||[e.responseText,t,e])}),this},at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){at.fn[t]=function(e){return this.on(t,e)}}),at.each(["get","post"],function(e,n){at[n]=function(e,i,r,o){return at.isFunction(i)&&(o=o||r,r=i,i=t),at.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jn,type:"GET",isLocal:Mn.test(An[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,at.ajaxSettings),t):O(at.ajaxSettings,e)},ajaxPrefilter:j(Vn),ajaxTransport:j(Bn),ajax:function(e,n){function i(e,n,i,a){var c,h,y,b,x,k=n;2!==w&&(w=2,l&&clearTimeout(l),r=t,s=a||"",_.readyState=e>0?4:0,i&&(b=D(p,_,i)),e>=200&&300>e||304===e?(p.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(at.lastModified[o]=x),x=_.getResponseHeader("etag"),x&&(at.etag[o]=x)),304===e?(c=!0,k="notmodified"):(c=L(p,b),k=c.state,h=c.data,y=c.error,c=!y)):(y=k,(e||!k)&&(k="error",0>e&&(e=0))),_.status=e,_.statusText=(n||k)+"",c?m.resolveWith(d,[h,k,_]):m.rejectWith(d,[_,k,y]),_.statusCode(v),v=t,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[_,p,c?h:y]),g.fireWith(d,[_,k]),u&&(f.trigger("ajaxComplete",[_,p]),--at.active||at.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,c,u,h,p=at.ajaxSetup({},n),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?at(d):at.event,m=at.Deferred(),g=at.Callbacks("once memory"),v=p.statusCode||{},y={},b={},w=0,x="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=qn.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),i(0,t),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,p.url=((e||p.url||jn)+"").replace(Dn,"").replace(Pn,An[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=at.trim(p.dataType||"*").toLowerCase().match(ct)||[""],null==p.crossDomain&&(c=$n.exec(p.url.toLowerCase()),p.crossDomain=!(!c||c[1]===An[1]&&c[2]===An[2]&&(c[3]||("http:"===c[1]?80:443))==(An[3]||("http:"===An[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=at.param(p.data,p.traditional)),H(Vn,p,n,_),2===w)return _;u=p.global,u&&0===at.active++&&at.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!In.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(On.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Ln.test(o)?o.replace(Ln,"$1_="+Hn++):o+(On.test(o)?"&":"?")+"_="+Hn++)),p.ifModified&&(at.lastModified[o]&&_.setRequestHeader("If-Modified-Since",at.lastModified[o]),at.etag[o]&&_.setRequestHeader("If-None-Match",at.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Fn+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)_.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(d,_,p)===!1||2===w))return _.abort();x="abort";for(h in{success:1,error:1,complete:1})_[h](p[h]);if(r=H(Bn,p,n,_)){_.readyState=1,u&&f.trigger("ajaxSend",[_,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},p.timeout));try{w=1,r.send(y,i)}catch(k){if(!(2>w))throw k;i(-1,k)}}else i(-1,"No Transport");return _},getScript:function(e,n){return at.get(e,t,n,"script")},getJSON:function(e,t,n){return at.get(e,t,n,"json")}}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return at.globalEval(e),e}}}),at.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),at.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=J.head||at("head")[0]||J.documentElement;return{send:function(t,r){n=J.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Wn=[],zn=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wn.pop()||at.expando+"_"+Hn++;return this[e]=!0,e}}),at.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.jsonp!==!1&&(zn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&zn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=at.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(zn,"$1"+o):n.jsonp!==!1&&(n.url+=(On.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||at.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Wn.push(o)),a&&at.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0});var Jn,Gn,Xn=0,Qn=e.ActiveXObject&&function(){var e;for(e in Jn)Jn[e](t,!0)};at.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&q()||M()}:q,Gn=at.ajaxSettings.xhr(),at.support.cors=!!Gn&&"withCredentials"in Gn,Gn=at.support.ajax=!!Gn,Gn&&at.ajaxTransport(function(n){if(!n.crossDomain||at.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var a,c,u,h,p;try{if(i&&(r||4===l.readyState))if(i=t,s&&(l.onreadystatechange=at.noop,Qn&&delete Jn[s]),r)4!==l.readyState&&l.abort();else{h={},a=l.status,p=l.responseXML,u=l.getAllResponseHeaders(),p&&p.documentElement&&(h.xml=p),"string"==typeof l.responseText&&(h.text=l.responseText);try{c=l.statusText}catch(d){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(f){r||o(-1,f)}h&&o(a,c,h,u)},n.async?4===l.readyState?setTimeout(i):(s=++Xn,Qn&&(Jn||(Jn={},at(e).unload(Qn)),Jn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Yn,Kn,Zn=/^(?:toggle|show|hide)$/,ei=new RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),ti=/queueHooks$/,ni=[V],ii={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=ei.exec(t),s=r.cur(),a=+s||0,l=1,c=20;if(o){if(n=+o[2],i=o[3]||(at.cssNumber[e]?"":"px"),"px"!==i&&a){a=at.css(r.elem,e,!0)||n||1;do l=l||".5",a/=l,at.style(r.elem,e,a+i);while(l!==(l=r.cur()/s)&&1!==l&&--c)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};at.Animation=at.extend($,{tweener:function(e,t){at.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ii[n]=ii[n]||[],ii[n].unshift(t)},prefilter:function(e,t){t?ni.unshift(e):ni.push(e)}}),at.Tween=B,B.prototype={constructor:B,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(at.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.pos=t=this.options.duration?at.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=at.css(e.elem,e.prop,"auto"),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){at.fx.step[e.prop]?at.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[at.cssProps[e.prop]]||at.cssHooks[e.prop])?at.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},at.each(["toggle","show","hide"],function(e,t){var n=at.fn[t];at.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,i,r)}}),at.fn.extend({fadeTo:function(e,t,n,i){return this.filter(_).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=at.isEmptyObject(e),o=at.speed(t,n,i),s=function(){var t=$(this,at.extend({},e),o);s.finish=function(){t.stop(!0)},(r||at._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=at.timers,s=at._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&ti.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&at.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=at._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=at.timers,s=i?i.length:0;for(n.finish=!0,at.queue(this,e,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),at.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){at.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),at.speed=function(e,t,n){var i=e&&"object"==typeof e?at.extend({},e):{complete:n||!n&&t||at.isFunction(e)&&e,duration:e,easing:n&&t||t&&!at.isFunction(t)&&t};return i.duration=at.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in at.fx.speeds?at.fx.speeds[i.duration]:at.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){at.isFunction(i.old)&&i.old.call(this),i.queue&&at.dequeue(this,i.queue)},i},at.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},at.timers=[],at.fx=B.prototype.init,at.fx.tick=function(){var e,n=at.timers,i=0;for(Yn=at.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||at.fx.stop(),Yn=t},at.fx.timer=function(e){e()&&at.timers.push(e)&&at.fx.start()},at.fx.interval=13,at.fx.start=function(){Kn||(Kn=setInterval(at.fx.tick,at.fx.interval))},at.fx.stop=function(){clearInterval(Kn),Kn=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fx.step={},at.expr&&at.expr.filters&&(at.expr.filters.animated=function(e){return at.grep(at.timers,function(t){return e===t.elem}).length}),at.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){at.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},o=this[0],s=o&&o.ownerDocument;if(s)return n=s.documentElement,at.contains(n,o)?("undefined"!=typeof o.getBoundingClientRect&&(r=o.getBoundingClientRect()),i=U(s),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},at.offset={setOffset:function(e,t,n){var i=at.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=at(e),a=s.offset(),l=at.css(e,"top"),c=at.css(e,"left"),u=("absolute"===i||"fixed"===i)&&at.inArray("auto",[l,c])>-1,h={},p={};u?(p=s.position(),r=p.top,o=p.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),at.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+r),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):s.css(h)}},at.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===at.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),at.nodeName(e[0],"html")||(n=e.offset()),n.top+=at.css(e[0],"borderTopWidth",!0),n.left+=at.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-at.css(i,"marginTop",!0),left:t.left-n.left-at.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J.documentElement;e&&!at.nodeName(e,"html")&&"static"===at.css(e,"position");)e=e.offsetParent;return e||J.documentElement})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);at.fn[e]=function(r){return at.access(this,function(e,r,o){var s=U(e);return o===t?s?n in s?s[n]:s.document.documentElement[r]:e[r]:void(s?s.scrollTo(i?at(s).scrollLeft():o,i?o:at(s).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),at.each({Height:"height",Width:"width"},function(e,n){at.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){at.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return at.access(this,function(n,i,r){var o;return at.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?at.css(n,i,a):at.style(n,i,r,a)},n,s?r:t,s,null)}})}),e.jQuery=e.$=at,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return at})}(window),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,h=i.forEach,p=i.map,d=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,x=Object.keys,_=o.bind,k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)
};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.6.0";var T=k.each=k.forEach=function(e,t,i){if(null==e)return e;if(h&&e.forEach===h)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var s=k.keys(e),r=0,o=s.length;o>r;r++)if(t.call(i,e[s[r]],s[r],e)===n)return;return e};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:p&&e.map===p?e.map(t,n):(T(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i)};var S="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),d&&e.reduce===d)return i&&(t=k.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(T(e,function(e,o,s){r?n=t.call(i,n,e,o,s):(n=e,r=!0)}),!r)throw new TypeError(S);return n},k.reduceRight=k.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=k.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var s=k.keys(e);o=s.length}if(T(e,function(a,l,c){l=s?s[--o]:--o,r?n=t.call(i,n,e[l],l,c):(n=e[l],r=!0)}),!r)throw new TypeError(S);return n},k.find=k.detect=function(e,t,n){var i;return C(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(T(e,function(e,r,o){t.call(n,e,r,o)&&i.push(e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},k.every=k.all=function(e,t,i){t||(t=k.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(T(e,function(e,o,s){return(r=r&&t.call(i,e,o,s))?void 0:n}),!!r)};var C=k.some=k.any=function(e,t,i){t||(t=k.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(T(e,function(e,o,s){return r||(r=t.call(i,e,o,s))?n:void 0}),!!r)};k.contains=k.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):C(e,function(e){return e===t})},k.invoke=function(e,t){var n=a.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,k.property(t))},k.where=function(e,t){return k.filter(e,k.matches(t))},k.findWhere=function(e,t){return k.find(e,k.matches(t))},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var i=-1/0,r=-1/0;return T(e,function(e,o,s){var a=t?t.call(n,e,o,s):e;a>r&&(i=e,r=a)}),i},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var i=1/0,r=1/0;return T(e,function(e,o,s){var a=t?t.call(n,e,o,s):e;r>a&&(i=e,r=a)}),i},k.shuffle=function(e){var t,n=0,i=[];return T(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i},k.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=k.values(e)),e[k.random(e.length-1)]):k.shuffle(e).slice(0,Math.max(0,t))};var E=function(e){return null==e?k.identity:k.isFunction(e)?e:k.property(e)};k.sortBy=function(e,t,n){return t=E(t),k.pluck(k.map(e,function(e,i,r){return{value:e,index:i,criteria:t.call(n,e,i,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var N=function(e){return function(t,n,i){var r={};return n=E(n),T(t,function(o,s){var a=n.call(i,o,s,t);e(r,a,o)}),r}};k.groupBy=N(function(e,t,n){k.has(e,t)?e[t].push(n):e[t]=[n]}),k.indexBy=N(function(e,t,n){e[t]=n}),k.countBy=N(function(e,t){k.has(e,t)?e[t]++:e[t]=1}),k.sortedIndex=function(e,t,n,i){n=E(n);for(var r=n.call(i,t),o=0,s=e.length;s>o;){var a=o+s>>>1;n.call(i,e[a])<r?o=a+1:s=a}return o},k.toArray=function(e){return e?k.isArray(e)?a.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:a.call(e,0,t)},k.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var A=function(e,t,n){return t&&k.every(e,k.isArray)?l.apply(n,e):(T(e,function(e){k.isArray(e)||k.isArguments(e)?t?s.apply(n,e):A(e,t,n):n.push(e)}),n)};k.flatten=function(e,t){return A(e,t,[])},k.without=function(e){return k.difference(e,a.call(arguments,1))},k.partition=function(e,t){var n=[],i=[];return T(e,function(e){(t(e)?n:i).push(e)}),[n,i]},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var r=n?k.map(e,n,i):e,o=[],s=[];return T(r,function(n,i){(t?i&&s[s.length-1]===n:k.contains(s,n))||(s.push(n),o.push(e[i]))}),o},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(e){var t=a.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.contains(t,e)})})},k.difference=function(e){var t=l.apply(i,a.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=k.max(k.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=k.pluck(arguments,""+n);return t},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o};var j=function(){};k.bind=function(e,t){var n,i;if(_&&e.bind===_)return _.apply(e,a.call(arguments,1));if(!k.isFunction(e))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));j.prototype=e.prototype;var r=new j;j.prototype=null;var o=e.apply(r,n.concat(a.call(arguments)));return Object(o)===o?o:r}},k.partial=function(e){var t=a.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,o=i.length;o>r;r++)i[r]===k&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},k.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(a.call(arguments,1)))},k.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:k.now(),s=null,o=e.apply(i,r),i=r=null};return function(){var c=k.now();a||n.leading!==!1||(a=c);var u=t-(c-a);return i=this,r=arguments,0>=u?(clearTimeout(s),s=null,a=c,o=e.apply(i,r),i=r=null):s||n.trailing===!1||(s=setTimeout(l,u)),o}},k.debounce=function(e,t,n){var i,r,o,s,a,l=function(){var c=k.now()-s;t>c?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=k.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,r),o=r=null),a}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return k.partial(t,e)},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},k.keys=function(e){if(!k.isObject(e))return[];if(x)return x(e);var t=[];for(var n in e)k.has(e,n)&&t.push(n);return t},k.values=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},k.pairs=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},k.invert=function(e){for(var t={},n=k.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return T(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=l.apply(i,a.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=l.apply(i,a.call(arguments,1));for(var r in e)k.contains(n,r)||(t[r]=e[r]);return t},k.defaults=function(e){return T(a.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var H=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;var s=e.constructor,a=t.constructor;if(s!==a&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=H(e[l],t[l],n,i)););}else{for(var h in e)if(k.has(e,h)&&(l++,!(u=k.has(t,h)&&H(e[h],t[h],n,i))))break;if(u){for(h in t)if(k.has(t,h)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};k.isEqual=function(e,t){return H(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=w||function(e){return"[object Array]"==c.call(e)},k.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return u.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.constant=function(e){return function(){return e}},k.property=function(e){return function(t){return t[e]}},k.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},k.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},k.now=Date.now||function(){return(new Date).getTime()};var O={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};O.unescape=k.invert(O.escape);var D={escape:new RegExp("["+k.keys(O.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(O.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return O[e][t]})}}),k.result=function(e,t){if(null==e)return void 0;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){T(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),P.call(this,n.apply(k,e))}})};var L=0;k.uniqueId=function(e){var t=++L+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||q).source,(n.interpolate||q).source,(n.evaluate||q).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(r,function(t,n,i,r,a){return s+=e.slice(o,a).replace(I,function(e){return"\\"+M[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(t)return i(t,k);var l=function(e){return i.call(this,e,k)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},k.chain=function(e){return k(e).chain()};var P=function(e){return this._chain?k(e).chain():e};k.mixin(k),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],P.call(this,n)}}),T(["concat","join","slice"],function(e){var t=i[e];k.prototype[e]=function(){return P.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),function(){var e,t=this,n=t.Backbone,i=[],r=i.push,o=i.slice,s=i.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.0.0";var a=t._;a||"undefined"==typeof require||(a=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,n){if(!u(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!u(this,"once",e,[t,n])||!t)return this;var i=this,r=a.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,o,s,l,c,h,p;if(!this._events||!u(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(s=e?[e]:a.keys(this._events),l=0,c=s.length;c>l;l++)if(e=s[l],o=this._events[e]){if(this._events[e]=i=[],t||n)for(h=0,p=o.length;p>h;h++)r=o[h],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!u(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&h(n,t),i&&h(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var o in i)i[o].off(t,n,this),r&&delete this._listeners[o];return this}},c=/\s+/,u=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(c.test(n)){for(var o=n.split(c),s=0,a=o.length;a>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},h=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};a.each(p,function(e,t){l[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=a.uniqueId("l"));return r[o]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),l.bind=l.on,l.unbind=l.off,a.extend(e,l);var d=e.Model=function(e,t){var n,i=e||{};t||(t={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(t,f)),t.parse&&(i=this.parse(i,t)||{}),(n=a.result(this,"defaults"))&&(i=a.defaults({},i,n)),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];a.extend(d.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,o,s,l,c,u,h;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;o=n.unset,l=n.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)t=r[i],a.isEqual(h[i],t)||s.push(i),a.isEqual(u[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete h[i]:h[i]=t;if(!l){s.length&&(this._pending=!0);for(var p=0,d=s.length;d>p;p++)this.trigger("change:"+s[p],this,h[s[p]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in e)a.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),void t.trigger("sync",t,i,e)):!1},I(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,r,o,s=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=a.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=a.extend({},s,i)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=s;var t=l.parse(e,n);return n.wait&&(t=a.extend(i||{},t)),a.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),void l.trigger("sync",l,e,n))},I(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),o=this.sync(r,this,n),i&&n.wait&&(this.attributes=s),o},destroy:function(e){e=e?a.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;I(this,e);var r=this.sync("delete",this,e);return e.wait||i(),r},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||M();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},a.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,a.extend(t||{},{validationError:n})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];a.each(m,function(e){d.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),a[e].apply(a,t)}});var g=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};a.extend(g.prototype,l,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.defaults(t||{},y))},remove:function(e,t){e=a.isArray(e)?e.slice():[e],t||(t={});var n,i,r,o;for(n=0,i=e.length;i>n;n++)o=this.get(e[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,t.silent||(t.index=r,o.trigger("remove",o,this,t)),this._removeReference(o));return this},set:function(e,t){t=a.defaults(t||{},v),t.parse&&(e=this.parse(e,t)),a.isArray(e)||(e=e?[e]:[]);var n,i,o,l,c,u=t.at,h=this.comparator&&null==u&&t.sort!==!1,p=a.isString(this.comparator)?this.comparator:null,d=[],f=[],m={};for(n=0,i=e.length;i>n;n++)(o=this._prepareModel(e[n],t))&&((l=this.get(o))?(t.remove&&(m[l.cid]=!0),t.merge&&(l.set(o.attributes,t),h&&!c&&l.hasChanged(p)&&(c=!0))):t.add&&(d.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(t.remove){for(n=0,i=this.length;i>n;++n)m[(o=this.models[n]).cid]||f.push(o);f.length&&this.remove(f,t)}if(d.length&&(h&&(c=!0),this.length+=d.length,null!=u?s.apply(this.models,[u,0].concat(d)):r.apply(this.models,d)),c&&this.sort({silent:!0}),t.silent)return this;for(n=0,i=d.length;i>n;n++)(o=d[n]).trigger("add",o,this,t);return c&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,a.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,a.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return a.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=a.isFunction(t)?t:function(e){return e.get(t)};return a.sortedIndex(this.models,e,i,n)},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?a.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(r){t.wait&&n.add(e,t),i&&i(e,r,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(b,function(e){g.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),a[e].apply(a,t)}});var w=["groupBy","countBy","sortBy"];a.each(w,function(e){g.prototype[e]=function(t,n){var i=a.isFunction(t)?t:function(e){return e.get(t)};return a[e](this.models,i,n)}});var x=e.View=function(e){this.cid=a.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];a.extend(x.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=a.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(a.isFunction(n)||(n=this[e[t]]),n){var i=t.match(_),r=i[1],o=i[2];n=a.bind(n,this),r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,n):this.$el.on(r,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=a.extend({},a.result(this,"options"),e)),a.extend(this,a.pick(e,k)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var t=a.extend({},a.result(this,"attributes"));this.id&&(t.id=a.result(this,"id")),this.className&&(t["class"]=a.result(this,"className"));var n=e.$("<"+a.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var r=T[t];a.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:r,dataType:"json"};if(i.url||(o.url=a.result(n,"url")||M()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",i.emulateJSON&&(o.data._method=r);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),s?s.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(a.extend(o,i));return n.trigger("request",n,l,i),l};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,N=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(S.prototype,l,{initialize:function(){},route:function(t,n,i){a.isRegExp(t)||(t=this._routeToRegExp(t)),a.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return e.history.route(t,function(o){var s=r._extractParameters(t,o);i&&i.apply(r,s),r.trigger.apply(r,["route:"+n].concat(s)),r.trigger("route",n,s),e.history.trigger("route",r,n,s)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var e,t=a.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(C,"(?:$1)?").replace(E,function(e,t){return t?e:"([^/]+)"}).replace(N,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return a.map(n,function(e){return e?decodeURIComponent(e):null})}});var j=e.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},H=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,D=/msie [\w.]+/,L=/\/$/;j.started=!1,a.extend(j.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(L,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(H,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");j.started=!0,this.options=a.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,r=D.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(O,"/"),r&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,s=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&o.hash&&(this.fragment=this.getHash().replace(H,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),j.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=a.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!j.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))
}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new j;var q=function(e,t){var n,i=this;n=e&&a.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},a.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&a.extend(n.prototype,e),n.__super__=i.prototype,n};d.extend=g.extend=S.extend=x.extend=j.extend=q;var M=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),define("backbone",["jquery","underscore"],function(e){return function(){var t;return t||e.Backbone}}(this));var Handlebars={};!function(e,t){e.VERSION="1.0.0",e.COMPILER_REVISION=4,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},e.helpers={},e.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";e.registerHelper=function(t,i,o){if(n.call(t)===r){if(o||i)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,t)}else o&&(i.not=o),this.helpers[t]=i},e.registerPartial=function(t,i){n.call(t)===r?e.Utils.extend(this.partials,t):this.partials[t]=i},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw new Error("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,r){var o=r.inverse||function(){},s=r.fn,a=n.call(t);return a===i&&(t=t.call(this)),t===!0?s(this):t===!1||null==t?o(this):"[object Array]"===a?t.length>0?e.helpers.each(t,r):o(this):s(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var i=e.logger.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,r){var o,s=r.fn,a=r.inverse,l=0,c="",u=n.call(t);if(u===i&&(t=t.call(this)),r.data&&(o=e.createFrame(r.data)),t&&"object"==typeof t)if(t instanceof Array)for(var h=t.length;h>l;l++)o&&(o.index=l),c+=s(t[l],{data:o});else for(var p in t)t.hasOwnProperty(p)&&(o&&(o.key=p),c+=s(t[p],{data:o}),l++);return 0===l&&(c=a(this)),c}),e.registerHelper("if",function(t,r){var o=n.call(t);return o===i&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?r.inverse(this):r.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(t,r){var o=n.call(t);return o===i&&(t=t.call(this)),e.Utils.isEmpty(t)?void 0:r.fn(t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)});var o=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(e,t,n,i,r,o){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=new i.ProgramNode([],o[s]);break;case 3:this.$=new i.ProgramNode(o[s-2],o[s]);break;case 4:this.$=new i.ProgramNode(o[s-1],[]);break;case 5:this.$=new i.ProgramNode(o[s]);break;case 6:this.$=new i.ProgramNode([],[]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=[o[s]];break;case 9:o[s-1].push(o[s]),this.$=o[s-1];break;case 10:this.$=new i.BlockNode(o[s-2],o[s-1].inverse,o[s-1],o[s]);break;case 11:this.$=new i.BlockNode(o[s-2],o[s-1],o[s-1].inverse,o[s]);break;case 12:this.$=o[s];break;case 13:this.$=o[s];break;case 14:this.$=new i.ContentNode(o[s]);break;case 15:this.$=new i.CommentNode(o[s]);break;case 16:this.$=new i.MustacheNode(o[s-1][0],o[s-1][1]);break;case 17:this.$=new i.MustacheNode(o[s-1][0],o[s-1][1]);break;case 18:this.$=o[s-1];break;case 19:this.$=new i.MustacheNode(o[s-1][0],o[s-1][1],"&"===o[s-2][2]);break;case 20:this.$=new i.MustacheNode(o[s-1][0],o[s-1][1],!0);break;case 21:this.$=new i.PartialNode(o[s-1]);break;case 22:this.$=new i.PartialNode(o[s-2],o[s-1]);break;case 23:break;case 24:this.$=[[o[s-2]].concat(o[s-1]),o[s]];break;case 25:this.$=[[o[s-1]].concat(o[s]),null];break;case 26:this.$=[[o[s-1]],o[s]];break;case 27:this.$=[[o[s]],null];break;case 28:this.$=[[o[s]],null];break;case 29:o[s-1].push(o[s]),this.$=o[s-1];break;case 30:this.$=[o[s]];break;case 31:this.$=o[s];break;case 32:this.$=new i.StringNode(o[s]);break;case 33:this.$=new i.IntegerNode(o[s]);break;case 34:this.$=new i.BooleanNode(o[s]);break;case 35:this.$=o[s];break;case 36:this.$=new i.HashNode(o[s]);break;case 37:o[s-1].push(o[s]),this.$=o[s-1];break;case 38:this.$=[o[s]];break;case 39:this.$=[o[s-2],o[s]];break;case 40:this.$=[o[s-2],new i.StringNode(o[s])];break;case 41:this.$=[o[s-2],new i.IntegerNode(o[s])];break;case 42:this.$=[o[s-2],new i.BooleanNode(o[s])];break;case 43:this.$=[o[s-2],o[s]];break;case 44:this.$=new i.PartialNameNode(o[s]);break;case 45:this.$=new i.PartialNameNode(new i.StringNode(o[s]));break;case 46:this.$=new i.PartialNameNode(new i.IntegerNode(o[s]));break;case 47:this.$=new i.DataNode(o[s]);break;case 48:this.$=new i.IdNode(o[s]);break;case 49:o[s-2].push({part:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 50:this.$=[{part:o[s]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],o=[],s=this.table,a="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;o.push(h);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,m,g,v,y,b,w,x,_={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===d||"undefined"==typeof d)&&(d=t()),g=s[m]&&s[m][d]),"undefined"==typeof g||!g.length||!g[0]){var k="";if(!u){x=[];for(y in s[m])this.terminals_[y]&&y>2&&x.push("'"+this.terminals_[y]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:h,expected:x})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+d);switch(g[0]){case 1:i.push(d),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(g[1]),d=null,f?(d=f,f=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[g[1]][1],_.$=r[r.length-b],_._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},p&&(_._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(_,a,c,l,this.yy,g[1],r,o),"undefined"!=typeof v)return v;b&&(i=i.slice(0,-1*b*2),r=r.slice(0,-1*b),o=o.slice(0,-1*b)),i.push(this.productions_[g[1]][0]),r.push(_.$),o.push(_._$),w=s[i[i.length-2]][i[i.length-1]],i.push(w);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(n=this._input.match(this.rules[o[s]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=s,this.options.flex));s++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){switch(n){case 0:return t.yytext="\\",14;case 1:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 4:return t.yytext=t.yytext.substr(0,t.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),31;case 23:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return t.yytext=t.yytext.substr(1,t.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},e.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();e.Parser=o,e.parse=function(t){return t.constructor===e.AST.ProgramNode?t:(e.Parser.yy=e.AST,e.Parser.parse(t))},e.AST={},e.AST.ProgramNode=function(t,n){this.type="program",this.statements=t,n&&(this.inverse=new e.AST.ProgramNode(n))},e.AST.MustacheNode=function(e,t,n){this.type="mustache",this.escaped=!n,this.hash=t;var i=this.id=e[0],r=this.params=e.slice(1),o=this.eligibleHelper=i.isSimple;this.isHelper=o&&(r.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.partialName=e,this.context=t},e.AST.BlockNode=function(t,n,i,r){var o=function(t,n){if(t.original!==n.original)throw new e.Exception(t.original+" doesn't match "+n.original)};o(t.id,r),this.type="block",this.mustache=t,this.program=n,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(t){this.type="ID";for(var n="",i=[],r=0,o=0,s=t.length;s>o;o++){var a=t[o].part;if(n+=(t[o].separator||"")+a,".."===a||"."===a||"this"===a){if(i.length>0)throw new e.Exception("Invalid path: "+n);".."===a?r++:this.isScoped=!0}else i.push(a)}this.original=n,this.parts=i,this.string=i.join("."),this.depth=r,this.isSimple=1===t.length&&!this.isScoped&&0===r,this.stringModeValue=this.string},e.AST.PartialNameNode=function(e){this.type="PARTIAL_NAME",this.name=e.original},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.original=this.string=this.stringModeValue=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e};var s=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;t<s.length;t++)this[s[t]]=e[s[t]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/,u=function(e){return a[e]||"&amp;"};e.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":(t=t.toString(),c.test(t)?t.replace(l,u):t)},isEmpty:function(e){return e||0===e?"[object Array]"===n.call(e)&&0===e.length?!0:!1:!0}};var h=e.Compiler=function(){},p=e.JavaScriptCompiler=function(){};h.prototype={compiler:h,disassemble:function(){for(var e,t,n,i=this.opcodes,r=[],o=0,s=i.length;s>o;o++)if(e=i[o],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var a=0;a<e.args.length;a++)n=e.args[a],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||i.args.length!==r.args.length)return!1;for(var o=0;o<i.args.length;o++)if(i.args[o]!==r.args[o])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,n=e.statements;this.opcodes=[];for(var i=0,r=n.length;r>i;i++)t=n[i],this[t.type](t);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,o=n.depths.list.length;o>r;r++)t=n.depths.list[r],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=this.classifyMustache(t);"helper"===r?this.helperMustache(t,n,i):"simple"===r?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("pushHash");for(var r=0,o=i.length;o>r;r++)t=i[r],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);"simple"===n?this.simpleMustache(e):"helper"===n?this.helperMustache(e):this.ambiguousMustache(e),this.opcode(e.escaped&&!t.noEscape?"appendEscaped":"append")},ambiguousMustache:function(e,t,n){var i=e.id,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r,o)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+r);this.opcode("invokeHelper",i.length,r)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new e.Exception("Scoped data references are not supported: "+t.original);this.opcode("lookupData");for(var n=t.id.parts,i=0,r=n.length;r>i;i++)this.opcode("lookup",n[i])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var r=e.id.parts[0];i.knownHelpers[r]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}};var d=function(e){this.value=e};p.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":p.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,n,i,r){this.environment=t,this.options=n||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,n);var o,s=t.opcodes;for(this.i=0,v=s.length;this.i<v;this.i++)o=s[this.i],"DECLARE"===o.opcode?this[o.name]=o.value:this[o.opcode].apply(this,o.args);return this.createFunctionContext(r)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}e.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var n=this.stackVars.concat(this.registers.list);if(n.length>0&&(this.source[1]=this.source[1]+", "+n.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],o=0,s=this.environment.depths.list.length;s>o;o++)r.push("depth"+this.environment.depths.list[o]);var a=this.mergeSource();if(!this.isChild){var l=e.COMPILER_REVISION,c=e.REVISION_CHANGES[l];a="this.compilerInfo = ["+l+",'"+c+"'];\n"+a}if(t)return r.push(a),Function.apply(this,r);var u="function "+(this.name||"")+"("+r.join(",")+") {\n  "+a+"}";return e.log(e.logger.DEBUG,u+"\n\n"),u},mergeSource:function(){for(var e,n="",i=0,r=this.source.length;r>i;i++){var o=this.source[i];o.appendToBuffer?e=e?e+"\n    + "+o.content:o.content:(e&&(n+="buffer += "+e+";\n  ",e=t),n+=o+"\n  ")}return n},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){this.flushInline();var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=t,this.options.stringParams&&(this.register("hashContexts","{"+e.contexts.join(",")+"}"),this.register("hashTypes","{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){this.pushStackLiteral(null!=e?this.programExpression(e):null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t,!0),i=this.nameLookup("depth"+this.lastContext,t,"context");this.push(n.name+" || "+i),this.replaceStack(function(e){return e+" ? "+e+".call("+n.callParams+") : helperMissing.call("+n.helperMissingParams+")"
})},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),r=this.nameLookup("depth"+this.lastContext,e,"context"),o=this.nextStack();this.source.push("if ("+o+" = "+i+") { "+o+" = "+o+".call("+n.callParams+"); }"),this.source.push("else { "+o+" = "+r+"; "+o+" = typeof "+o+" === functionType ? "+o+".apply(depth0) : "+o+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var r=this.hash;t&&r.contexts.push("'"+e+"': "+t),n&&r.types.push("'"+e+"': "+n),r.values.push("'"+e+"': ("+i+")")},compiler:p,compileChildren:function(e,t){for(var n,i,r=e.children,o=0,s=r.length;s>o;o++){n=r[o],i=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,t,this.context),this.context.environments[a]=n):(n.index=a,n.name="program"+a)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,r=[n.index,n.name,"data"],o=0,s=i.length;s>o;o++)t=i[o],r.push(1===t?"depth0":"depth"+(t-1));return(0===i.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new d(e))},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.source.push(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,n="",i=this.isInline();if(i){var r=this.popStack(!0);if(r instanceof d)t=r.value;else{var o=this.stackSlot?this.topStackName():this.incrStack();n="("+this.push(o)+" = "+r+"),",t=this.topStack()}}else t=this.topStack();var s=e.call(this,t);return i?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+n+s+")")):(/^stack/.test(t)||(t=this.nextStack()),this.source.push(t+" = ("+n+s+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;n>t;t++){var i=e[t];i instanceof d?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();return!e&&n instanceof d?n.value:(t||this.stackSlot--,n)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return!e&&n instanceof d?n.value:n},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var i=[];this.setupParams(e,i,n);var r=this.nameLookup("helpers",t,"helper");return{params:i,name:r,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(i).join(", ")}},setupParams:function(e,t,n){var i,r,o,s=[],a=[],l=[];s.push("hash:"+this.popStack()),r=this.popStack(),o=this.popStack(),(o||r)&&(o||(this.context.aliases.self="this",o="self.noop"),r||(this.context.aliases.self="this",r="self.noop"),s.push("inverse:"+r),s.push("fn:"+o));for(var c=0;e>c;c++)i=this.popStack(),t.push(i),this.options.stringParams&&(l.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(s.push("contexts:["+a.join(",")+"]"),s.push("types:["+l.join(",")+"]"),s.push("hashContexts:hashContexts"),s.push("hashTypes:hashTypes")),this.options.data&&s.push("data:data"),s="{"+s.join(",")+"}",n?(this.register("options",s),t.push("options")):t.push(s),t.join(", ")}};for(var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),m=p.RESERVED_WORDS={},g=0,v=f.length;v>g;g++)m[f[g]]=!0;p.isValidJavaScriptVariableName=function(e){return!p.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1},e.precompile=function(t,n){if(null==t||"string"!=typeof t&&t.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);n=n||{},"data"in n||(n.data=!0);var i=e.parse(t),r=(new h).compile(i,n);return(new p).compile(r,n)},e.compile=function(n,i){function r(){var r=e.parse(n),o=(new h).compile(r,i),s=(new p).compile(o,i,t,!0);return e.template(s)}if(null==n||"string"!=typeof n&&n.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);i=i||{},"data"in i||(i.data=!0);var o;return function(e,t){return o||(o=r()),o.call(this,e,t)}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,i){var r=this.programs[t];return i?r=e.VM.program(t,n,i):r||(r=this.programs[t]=e.VM.program(t,n)),r},merge:function(t,n){var i=t||n;return t&&n&&(i={},e.Utils.extend(i,n),e.Utils.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var o=t.call(n,e,i,r.helpers,r.partials,r.data),s=n.compilerInfo||[],a=s[0]||1,l=e.COMPILER_REVISION;if(a!==l){if(l>a){var c=e.REVISION_CHANGES[l],u=e.REVISION_CHANGES[a];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+u+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+s[1]+")."}return o}},programWithDepth:function(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r},program:function(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,r,o,s,a){var l={helpers:o,partials:s,data:a};if(n===t)throw new e.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(r,l);if(e.compile)return s[i]=e.compile(n,{data:a!==t}),s[i](r,l);throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template}(Handlebars),define("handlebars",function(e){return function(){var t;return t||e.Handlebars}}(this)),function(){function e(){this.helpers&&_.each(this.helpers,function(e,t){var n=this;this.helpers[t]=function(){var t=_.toArray(arguments),i=_.last(t);return i.context=this,e.apply(n,t)}},this)}function t(e){return'Error "'+e+'". For more information visit http://thoraxjs.org/error-codes.html#'+e}function n(e,t){var n=e.extend;e.extend=function(){var e=n.apply(this,arguments);return e.prototype.name&&(t[e.prototype.name]=e),e}}function i(e,t,n,i){var r,o=e[t];if(_.indexOf(n,".")>=0){var s=n.split(/\./);n=s.pop(),_.each(s,function(e){o=o[e]})}if(o&&(r=o[n]),r||i)return r;throw new Error(t+": "+n+" does not exist.")}function r(e,t){var n;if(_.isString(this[e])?n=st.Util.getViewClass(this[e],!0):this.name&&!_.isFunction(this[e])&&(n=st.Util.getViewClass(this.name+(t.extension||""),!0)),n&&!_.isFunction(this[e])&&(this[e]=n),t.required&&!_.isFunction(this[e]))throw new Error("View "+(this.name||this.cid)+" requires: "+e)}function o(e,t){var n;if(_.isString(this[e])?n=st.Util.getTemplate(this[e],!0):this.name&&!_.isFunction(this[e])&&(n=st.Util.getTemplate(this.name+(t.extension||""),!0)),!n&&"template"===e&&this._defaultTemplate&&(n=this._defaultTemplate),n&&!_.isFunction(this[e])&&(this[e]=n),t.required&&!_.isFunction(this[e]))throw new Error("View "+(this.name||this.cid)+" requires: "+e)}function s(e,t,n){return e&&e[t]?_.isFunction(e[t])?e[t].call(n||e):e[t]:null}function a(e){_.each(at,function(t){e[t.name]||(e[t.name]=[])})}function l(e){_.each(at,function(t){e[t.name]=[]})}function c(e,t,n,i){var r=[];_.has(e,t)&&r.push(e);var o=e;if(n)for(;o=o.__parent__;)_.has(o,t)&&r.push(o);else for(o=o.constructor;o;)o.prototype&&_.has(o.prototype,t)&&r.push(o.prototype),o=o.__super__&&o.__super__.constructor;for(var a=r.length;a--;)_.each(s(r[a],t,e),i)}function u(e,t,n,i){if(_.isObject(n)){var r=at[t];if(r&&r.event)return e&&e.listenTo&&e[t]&&e[t].cid?p(e,n,i,t):p(e["_"+t+"Events"],n,i),!0}}function h(e,t,n,i,r){function o(){if(e.el)s.apply(r,arguments);else{if(a)throw new Error("destroyed-event:"+e.name+":"+n);a++}}var s=C(i,e),a=0;o._callback=s._callback||s,o._thoraxBind=!0,e.listenTo(t,n,o)}function p(e,t,n,i){function r(t,r){i?h(e,e[i],r,t,n||e):e.push([r,t,n])}_.each(t,function(e,t){_.isArray(e)?_.each(e,function(e){r(e,t)}):r(e,t)})}function d(e){if(!e||!e.data)throw new Error(t("handlebars-no-data"));return e.data}function f(e){e.tag&&(e.tagName=e.tag,delete e.tag),e["class"]&&(e.className=e["class"],delete e["class"])}function m(e){ht.push.apply(ht,e),ct=new RegExp("^(nested\\s+)?("+ht.join("|")+")(?:\\s|$)")}function g(e,t){return function(n){var i=$(n.target).view({helper:!1});i&&i.cid===t&&(n.originalContext=this,e(n))}}function v(e,t){function n(){try{r.apply(o,arguments)}catch(t){st.onException("thorax-exception: "+(o.name||o.cid)+":"+e,t)}}e+=t.originalName;var i=t.handler,r=_.isFunction(i)?i:this[i];if(!r)throw new Error('Event "'+i+'" does not exist '+(this.name||this.cid)+":"+e);var o=t.context||this;return n._callback=r,n._thoraxBind=!0,n}function y(e,t,n){var i={originalName:e,handler:_.isString(t)?this[t]:t};if(e.match(ct)){var r=ut.exec(e);i.nested=!!r[1],i.name=r[2],i.type="DOM",i.selector=r[3]}else i.name=e,i.type="view";return i.context=n,i}function b(e){for(;e._helperName&&"view"!==e._helperName;)e=e.parent;return e}function w(e){var t=_.pick(e,"fn","inverse","hash","data");return t.data=_.omit(e.data,"cid","view","yield"),t}function x(e,t){function n(e,t){return _.every(e,function(e,n){return t[n]===e})}return e._helperName!==t._helperName?!1:(e=e._helperOptions,t=t._helperOptions,e.args.length===t.args.length&&n(e.args,t.args)&&_.isEqual(_.keys(e.options),_.keys(t.options))&&_.every(e.options,function(i,r){if("data"===r||"hash"===r)return n(e.options[r],t.options[r]);if("fn"===r||"inverse"===r){if(t.options[r]===i)return!0;var o=t.options[r]||{};return i&&_.has(i,"program")&&!i.depth&&o.program===i.program}return t.options[r]===i}))}function k(e,t){function n(n,i){var r=this[e],o=s(this,t.$el);return n===r?this:(r&&this.unbindDataObject(r),n?(this[e]=n,t.loading&&t.loading.call(this),this.bindDataObject(e,n,_.extend({},this.options,i)),o&&o.attr(t.cidAttrName,n.cid),n.trigger("set",n,r)):(this[e]=!1,t.change&&t.change.call(this,!1),o&&o.removeAttr(t.cidAttrName)),this.trigger("change:data-object",e,n,r),this)}t=at[e]=_.defaults({name:"_"+e+"Events",event:!0},t),t.ctor=function(){if(this[e]){var n=this[e];this[e]=null,this[t.set](n)}},st.View.prototype[t.set]=n}function T(e,t,n){var i=this;c(n,"_"+e+"Events",!0,function(e){h(i,t,e[0],e[1],e[2]||i)})}function S(e,t){e.load?e.load(function(){t&&t.success&&t.success(e)},t):e.fetch(t)}function C(e,t){return _.isFunction(e)?e:t[e]}function E(e,t){if(!t||!t.serializing){var n=this.getObjectOptions(e)||{};this.conditionalRender(n.render)}}function N(e){var t=this.getObjectOptions(e)||void 0;this.shouldRender(t&&t.render)&&this.renderCollection&&this.renderCollection()}function A(e){var t=this.getObjectOptions(e)||void 0;this.shouldRender(t&&t.render)&&this.ensureRendered()}function j(){this.itemFilter&&this.collection.forEach(H,this)}function H(e){var t=this.getCollectionElement();this.itemFilter&&t.find("["+mt+'="'+e.cid+'"]')[O.call(this,e)?"show":"hide"]()}function O(e){return this.itemFilter(e,this.collection.indexOf(e))}function D(){var e=this.getCollectionElement();this.emptyClass&&e.removeClass(this.emptyClass),e.removeAttr(wt),e.empty()}function L(){var e=this.getCollectionElement();this.emptyClass&&e.addClass(this.emptyClass),e.attr(wt,!0),this.appendEmpty()}function q(e,t){return _.each(e,function(n,i){return _.isObject(n)?q(n,t):void(t(n,i,e)===!1&&delete e[i])}),e}function M(){R.call(this),this.model&&this.model.previousAttributes&&this.model.set(this.model.previousAttributes(),{silent:!0})}function I(e,t,n){var i=0;$("select,input,textarea",t.root||e.el).each(function(){(t.children||e===$(this).view({helper:!1}))&&"button"!==this.type&&"cancel"!==this.type&&"submit"!==this.type&&this.name&&(n(this,i),++i)})}function P(e,t,n,i){for(var r,o=e,s=t.split("["),a=n.mode,l=0;l<s.length-1;++l){if(r=s[l].replace("]",""),!o[r]){if("serialize"!==a)return i(void 0,r);o[r]={}}o=o[r]}r=s[s.length-1].replace("]",""),i(o,r)}function R(){this.$("form").removeAttr("data-submit-wait")}function V(e){var t=e.getObjectOptions(e.model)||{};return t.populate===!0?{}:t.populate}function B(e,t){t=t||{},t.target=this,this.trigger(e,t),_.each(this.children,function(n){n.trigger(e,t)})}function F(){++this._renderCount,this.$el.attr(Tt,this.cid)}function U(){if(!this.$("["+Tt+'="'+this.cid+'"]')[0])throw new Error("No layout element found in "+(this.name||this.cid))}function W(){return this.$("["+Tt+'="'+this.cid+'"]')[0]||this.el[0]||this.el}function z(e){return function(){var t=_.toArray(arguments);t.unshift(e),this.parent.trigger.apply(this.parent,t)}}function J(e){var t=b(this);if(!this[e]){var n=t[e];n&&(this[e]=n)}}function G(e){var t=$(this),n=t.view({helper:!1}),i=t.attr(Ct),r=t.attr(Et),o=!1;i&&(o=n[i].call(n,e)),r&&n.trigger(r,e),"A"===this.tagName&&o===!1&&e.preventDefault()}function X(){Q(),Nt=st._fastClickEventName||"click",$(document).on(Nt,At,G)}function Q(){Nt&&$(document).off(Nt,At,G)}function Y(e,t){function n(){r!==Backbone.history.getFragment()&&(o=!0,s.cancel(),t&&t())}function i(){Backbone.history.off("route",n),o||e.apply(this,arguments)}var r=Backbone.history.getFragment(),o=!1;Backbone.history.on("route",n);var s=_.bind(i,this);return s.cancel=function(){Backbone.history.off("route",n)},s}function K(e,t,n){if(this.isPopulated())return _.defer(e,this);2===arguments.length&&!_.isFunction(t)&&_.isObject(t)&&(n=t,t=!1);var i=this,r=!1,o=Y(_.bind(e,i),function(){r=!0,i._request&&(i._aborted=!0,i._request.abort()),t&&t.call(i,!1)});this.fetch(_.defaults({success:o,error:function(){o.cancel(),!r&&t&&t.apply(i,[!0].concat(_.toArray(arguments)))}},n))}function Z(e,n){if(e.resetQueue)this.fetchQueue=void 0;else if(this.fetchQueue){var i=(this.fetchQueue[0]||{}).reset;if(i!==e.reset)throw new Error(t("mixed-fetch"))}return this.fetchQueue?void this.fetchQueue.push(e):(this.fetchQueue=[e],e=_.defaults({success:et(this,this.fetchQueue,"success"),error:et(this,this.fetchQueue,"error"),complete:et(this,this.fetchQueue,"complete")},e),n&&n.call(this,e),e)}function et(e,t,n){return function(){var i=arguments;_.each(t,function(e){e[n]&&e[n].apply(this,i)},this),e.fetchQueue===t&&(e.fetchQueue=void 0)}}function tt(){this.render()}$.fn.forEach||($.fn.forEach=function(e,t){$.fn.each.call(this,function(n){e.call(t||this,this,n)})});var nt="data-view-name",it="data-view-cid",rt="data-view-helper",ot={};Handlebars.templates||(Handlebars.templates={});var st=this.Thorax={templatePathPrefix:"",Views:{},onException:function(e,t){throw t},templates:Handlebars.templates};st.View=Backbone.View.extend({constructor:function(){var e=Backbone.View.apply(this,arguments);return _.each(at,function(t){t.ctor&&t.ctor.call(this,e)},this),e},_configure:function(t){var n=this;this._referenceCount=0,this._objectOptionsByCid={},this._boundDataObjectsByCid={},_.each(at,function(e){n[e.name]=[]}),ot[this.cid]=this,this.children={},this._renderCount=0,_.extend(this,t||{}),e.call(this),_.each(at,function(e){e.configure&&e.configure.call(this)},this),this.trigger("configure")},setElement:function(){var e=Backbone.View.prototype.setElement.apply(this,arguments);return this.name&&this.$el.attr(nt,this.name),this.$el.attr(it,this.cid),e},_addChild:function(e){return this.children[e.cid]?e:(e.retain(),this.children[e.cid]=e,e.parent&&e.parent!==this&&!e._helperOptions&&e.parent._removeChild(e),e.parent=this,this.trigger("child",e),e)},_removeChild:function(e){return delete this.children[e.cid],e.parent=null,e.release(),e},_destroy:function(){_.each(this._boundDataObjectsByCid,this.unbindDataObject,this),this.trigger("destroyed"),delete ot[this.cid],_.each(this.children,function(e){this._removeChild(e)},this),this.el&&(this.undelegateEvents(),this.remove(),this.off()),this.el=this.$el=void 0,this.parent=void 0,this.model=this.collection=this._collection=void 0,this._helperOptions=void 0},render:function(e){if(this.el){if(this._rendering)throw new Error(t("nested-render"));this._previousHelpers=_.filter(this.children,function(e){return e._helperOptions});var n={};_.each(this.children,function(e,t){e._helperOptions||(n[t]=e)}),this.children=n,this.trigger("before:rendered"),this._rendering=!0;try{!_.isUndefined(e)&&(_.isElement(e)||st.Util.is$(e)||e&&e.el||_.isString(e)||_.isFunction(e))?_.isFunction(e)&&(e=this.renderTemplate(e)):(o.call(this,"template",{required:!0}),e=this.renderTemplate(this.template)),_.each(this._previousHelpers,function(e){this._removeChild(e)},this),this._previousHelpers=void 0,this.html(e&&e.el||e&&e.string||e),++this._renderCount,this.trigger("rendered")}finally{this._rendering=!1}return e}},context:function(){return _.extend({},this.model&&this.model.attributes||{})},_getContext:function(){return _.extend({},this,s(this,"context")||{})},_getData:function(e){return{view:this,cid:_.uniqueId("t"),"yield":function(){return e.fn&&e.fn(e)}}},renderTemplate:function(e,t,n){var i;return t=t||this._getContext(),i=_.isFunction(e)?e:st.Util.getTemplate(e,n),i?i(t,{helpers:this.helpers,data:this._getData(t)}):""},ensureRendered:function(){!this._renderCount&&this.render()},shouldRender:function(e){return e||null==e&&this._renderCount},conditionalRender:function(e){this.shouldRender(e)&&this.render()},appendTo:function(e){this.ensureRendered(),$(e).append(this.el),this.trigger("ready",{target:this})},html:function(e){if(_.isUndefined(e))return this.el.innerHTML;this.trigger("before:append");var t=this._replaceHTML(e);return this.trigger("append"),t},release:function(){--this._referenceCount,this._referenceCount<=0&&this._destroy()},retain:function(e){++this._referenceCount,e&&this.listenTo(e,"destroyed",e.release)},_replaceHTML:function(e){return this.el.innerHTML="",this.$el.append(e)},_anchorClick:function(e){var t=$(e.currentTarget),n=t.attr("href");return n&&("#"===n[0]||"/"===n[0]&&"/"!==n[1])?(Backbone.history.navigate(n,{trigger:!0}),!1):!0}}),st.View.extend=function(){a(this);var e=Backbone.View.extend.apply(this,arguments);return e.__parent__=this,l(e),e},n(st.View,st.Views),$.fn.view=function(e){e=_.defaults(e||{},{helper:!0});var t="["+it+"]";e.helper||(t+=":not(["+rt+"])");var n=$(this).closest(t);return n&&ot[n.attr(it)]||!1};var at={};st.Util={getViewInstance:function(e,t){var n=st.Util.getViewClass(e,!0);return n?new n(t||{}):e},getViewClass:function(e,t){return _.isString(e)?i(st,"Views",e,t):_.isFunction(e)?e:!1},getTemplate:function(e,t){var n,i=st.templatePathPrefix;if(i&&e.substr(0,i.length)!==i&&(e=i+e),e=e.replace(/\.handlebars$/,""),n=Handlebars.templates[e],n||(e+=".handlebars",n=Handlebars.templates[e]),!n&&!t)throw new Error("templates: "+e+" does not exist.");return n},is$:function(e){return _.isObject(e)&&"length"in e},expandToken:function(e,t){function n(e,t){if(e.match(/^("|')/)&&e.match(/("|')$/))return e.replace(/(^("|')|('|")$)/g,"");for(var n=e.split("."),i=n.length,r=0;t&&i>r;r++)"this"!==n[r]&&(t=t[n[r]]);return t}if(e&&e.indexOf&&e.indexOf("{{")>=0){for(var i,r=/(?:\{?[^{]+)|(?:\{\{([^}]+)\}\})/g,o=[];i=r.exec(e);)if(i[1]){var s=i[1].split(/\s+/);if(s.length>1){var a=s.shift();s=_.map(s,function(e){return n(e,t)}),o.push(Handlebars.helpers[a]?Handlebars.helpers[a].apply(t,s):i[0])}else o.push(n(s[0],t))}else o.push(i[0]);e=o.join("")}return e},tag:function(e,t,n){var i=_.omit(e,"tagName"),r=e.tagName||"div";return"<"+r+" "+_.map(i,function(e,t){if(_.isUndefined(e)||"expand-tokens"===t)return"";var i=e;return n&&(i=st.Util.expandToken(e,n)),("className"===t?"class":t)+'="'+Handlebars.Utils.escapeExpression(i)+'"'}).join(" ")+">"+(_.isUndefined(t)?"":t)+"</"+r+">"}},st.Mixins={},_.extend(st.View,{mixin:function(e){st.Mixins[e](this)},registerMixin:function(e,t,n){st.Mixins[e]=function(e){var i=!!e.cid;n&&_.extend(i?e:e.prototype,n),i?t.call(e):e.on("configure",t)}}}),st.View.prototype.mixin=function(e){st.Mixins[e](this)};var lt=st.View.prototype.on;at.event={name:"_events",configure:function(){var e=this;c(this.constructor,"_events",!0,function(t){e.on.apply(e,t)}),c(this,"events",!1,function(t,n){e.on(n,t,e)})}},_.extend(st.View,{on:function(e,t){return a(this),u(this,e,t)?this:(_.isObject(e)?_.each(e,function(e,t){this.on(t,e)},this):_.isArray(t)?_.each(t,function(t){this._events.push([e,t])},this):this._events.push([e,t]),this)}}),_.extend(st.View.prototype,{on:function(e,t,n){return u(this,e,t,n)?this:(_.isObject(e)&&arguments.length<3?_.each(e,function(e,n){this.on(n,e,t||this)},this):_.each(_.isArray(t)?t:[t],function(t){var i=y.call(this,e,t,n||this);"DOM"!==i.type||this._eventsDelegated?this._addEvent(i):(this._eventsToDelegate||(this._eventsToDelegate=[]),this._eventsToDelegate.push(i))},this),this)},delegateEvents:function(e){this.undelegateEvents(),e&&(_.isFunction(e)&&(e=e.call(this)),this._eventsToDelegate=[],this.on(e)),this._eventsToDelegate&&_.each(this._eventsToDelegate,this._addEvent,this),this._eventsDelegated=!0},_addEvent:function(e){if(e.handler._thoraxBind)return lt.call(this,e.name,e.handler,e.context||this);var t=v.call(this,e.type+"-event:",e);if("view"===e.type)e.context&&e.context!==this&&e.context instanceof st.View?h(e.context,this,e.name,t,e.context):lt.call(this,e.name,t,e.context||this);else{e.nested||(t=g(t,this.cid));var n=e.name+".delegateEvents"+this.cid;e.selector?this.$el.on(n,e.selector,t):this.$el.on(n,t)}}}),st.View.prototype.bind=st.View.prototype.on,st.View.on("ready",function(e){function t(t){t._isReady||t.trigger("ready",e)}this._isReady||(this._isReady=!0,_.each(this.children,t),this.on("child",t))});var ct,ut=/^(nested\s+)?(\S+)(?:\s+(.+))?/,ht=[];m(["mousedown","mouseup","mousemove","mouseover","mouseout","touchstart","touchend","touchmove","click","dblclick","keyup","keydown","keypress","submit","change","focus","blur"]);var pt="data-view-tmp",dt={},ft={_ensureElement:function(){st.View.prototype._ensureElement.apply(this,arguments),this.$el.attr(rt,this._helperName)},_getContext:function(){return this.parent._getContext.apply(this.parent,arguments)}};st.HelperView=st.View.extend(ft),Handlebars.registerViewHelper=function(e,t,n){2===arguments.length&&(t.factory?n=t.callback:(n=t,t=st.HelperView));var i=t.attributeWhiteList;Handlebars.registerHelper(e,function(){var r=_.toArray(arguments),o=r.pop(),s=d(o).view,a=o.hash["expand-tokens"];a&&(delete o.hash["expand-tokens"],_.each(o.hash,function(e,t){o.hash[t]=st.Util.expandToken(e,this)},this));var l={inverse:o.inverse,options:o.hash,declaringView:s,parent:b(s),_helperName:e,_helperOptions:{options:w(o),args:_.clone(r)}};f(o.hash);var c=_.clone(o.hash);i&&_.each(i,function(e,t){delete c[t],_.isUndefined(o.hash[t])||(l[e]=o.hash[t])}),c.tagName&&(l.tagName=c.tagName),l.attributes=function(){var e=t.prototype&&t.prototype.attributes||{};return _.isFunction(e)&&(e=e.apply(this,arguments)),_.extend(e,_.omit(c,["tagName"])),e.className&&(e["class"]=e.className,delete e.className),e},o.fn?l.template=o.fn:t&&t.prototype&&!t.prototype.template&&(l.template=Handlebars.VM.noop);var u=_.find(s._previousHelpers,function(e){return x(l,e)});if(u)s._previousHelpers=_.without(s._previousHelpers,u),s.children[u.cid]=u;else{if(t.factory){if(u=t.factory(r,l),!u)return"";u._helperName=l._helperName,u._helperOptions=l._helperOptions}else u=new t(l);s._previousHelpers=_.without(s._previousHelpers,u),r.push(u),s._addChild(u),s.trigger.apply(s,["helper",e].concat(r)),s.trigger.apply(s,["helper:"+e].concat(r)),n&&n.apply(this,r)}return c[pt]=u.cid,t.modifyHTMLAttributes&&t.modifyHTMLAttributes(c,u),new Handlebars.SafeString(st.Util.tag(c,"",a?this:null))});var r=Handlebars.helpers[e];return r},st.View.on("append",function(e,t){(e||this.$el).find("["+pt+"]").forEach(function(e){var n=e.getAttribute(pt),i=this.children[n];i&&(dt[n]?(i.render(dt[n]),delete dt[n]):i.ensureRendered(),$(e).replaceWith(i.el),t&&t(i.el))},this)}),_.extend(st.View.prototype,{getObjectOptions:function(e){return e&&this._objectOptionsByCid[e.cid]},bindDataObject:function(e,t,n){if(this._boundDataObjectsByCid[t.cid])return!1;this._boundDataObjectsByCid[t.cid]=t;var n=this._modifyDataObjectOptions(t,_.extend({},at[e].defaultOptions,n));this._objectOptionsByCid[t.cid]=n,T.call(this,e,t,this.constructor),T.call(this,e,t,this);var i=at[e];return i.bindCallback&&i.bindCallback.call(this,t,n),t.shouldFetch&&t.shouldFetch(n)?S(t,n):at[e].change&&at[e].change.call(this,t,n),!0},unbindDataObject:function(e){return this._boundDataObjectsByCid[e.cid]?(delete this._boundDataObjectsByCid[e.cid],this.stopListening(e),delete this._objectOptionsByCid[e.cid],!0):!1},_modifyDataObjectOptions:function(e,t){return t}});var mt="data-model-cid";st.Model=Backbone.Model.extend({isEmpty:function(){return!this.isPopulated()},isPopulated:function(){var e=_.clone(this.attributes),t=s(this,"defaults")||{};for(var n in t){if(e[n]!=t[n])return!0;delete e[n]}var i=_.keys(e);return i.length>1||1===i.length&&i[0]!==this.idAttribute},shouldFetch:function(e){var t;try{t=s(this,"url")}catch(n){t=!1}return e.fetch&&!!t&&!this.isPopulated()}}),st.Models={},n(st.Model,st.Models),k("model",{set:"setModel",defaultOptions:{render:void 0,fetch:!0,success:!1,invalid:!0},change:E,$el:"$el",cidAttrName:mt}),st.View.on({model:{invalid:function(e,t){this.getObjectOptions(e).invalid&&this.trigger("invalid",t,e)},error:function(e,t){this.trigger("error",t,e)},change:function(e,t){at.model.change.call(this,e,t)}}}),$.fn.model=function(e){var t=$(this),n=t.closest("["+mt+"]"),i=n&&n.attr(mt);if(i){var e=e||t.view();if(e&&e.model&&e.model.cid===i)return e.model||!1;var r=t.collection(e);if(r)return r.get(i)}return!1};var gt=Backbone.Collection.prototype.fetch,vt=Backbone.Collection.prototype.set,yt=st.View.prototype._replaceHTML,bt="data-collection-cid",wt="data-collection-empty",xt="data-collection-element",_t=1;st.Collection=Backbone.Collection.extend({model:st.Model||Backbone.Model,initialize:function(){return this.cid=_.uniqueId("collection"),Backbone.Collection.prototype.initialize.apply(this,arguments)},isEmpty:function(){return this.length>0?!1:0===this.length&&this.isPopulated()},isPopulated:function(){return this._fetched||this.length>0||!this.length&&!s(this,"url")},shouldFetch:function(e){return e.fetch&&!!s(this,"url")&&!this.isPopulated()},fetch:function(e){e=e||{};var t=e.success;return e.success=function(e,n){e._fetched=!0,t&&t(e,n)},gt.apply(this,arguments)},set:function(e,t){return this._fetched=!!e,vt.call(this,e,t)}}),_.extend(st.View.prototype,{getCollectionViews:function(e){return _.filter(this.children,function(t){return t instanceof st.CollectionView?!e||t.collection===e:!1})},updateFilter:function(e){_.invoke(this.getCollectionViews(e),"updateFilter")}}),st.Collections={},n(st.Collection,st.Collections),k("collection",{set:"setCollection",bindCallback:A,defaultOptions:{render:void 0,fetch:!0,success:!1,invalid:!0,change:!0},change:N,$el:"getCollectionElement",cidAttrName:bt}),st.CollectionView=st.View.extend({_defaultTemplate:Handlebars.VM.noop,_collectionSelector:"["+xt+"]",_replaceHTML:function(e){if(!(this.collection&&this.getObjectOptions(this.collection)&&this._renderCount))return yt.call(this,e);var t,n=this.getCollectionElement();t=yt.call(this,e),n.attr("data-view-cid")||this.getCollectionElement().replaceWith(n)},render:function(){var e=this.shouldRender();st.View.prototype.render.apply(this,arguments),e||this.renderCollection()},appendItem:function(e,t,n){if(e){var i,r=this.getCollectionElement();if(n=_.defaults(n||{},{filter:!0}),t&&t.el&&(t=r.children().indexOf(t.el)+1),e.el||_.isString(e)?(i=e,e=!1):(t=t||this.collection.indexOf(e)||0,i=this.renderItem(e,t)),i){i.cid&&(i.ensureRendered(),this._addChild(i)),_.isString(i)&&!i.match(/^\s*</m)&&(i="<div>"+i+"</div>");var o=i.$el||$($.trim(i)).filter(function(){return this.nodeType===_t});e&&o.attr(mt,e.cid);var s=t>0?this.collection.at(t-1):!1;if(s){var a=r.children("["+mt+'="'+s.cid+'"]').last();a.after(o)}else r.prepend(o);this.trigger("append",null,function(t){t.setAttribute(mt,e.cid)}),n.silent||this.trigger("rendered:item",this,this.collection,e,o,t),n.filter&&H.call(this,e)}return i}},updateItem:function(e){var t=this.getCollectionElement(),n=t.find("["+mt+'="'+e.cid+'"]');n.attr(it)||(this.removeItem(n),this.appendItem(e))},removeItem:function(e){var t=e;if(e.cid){var n=this.getCollectionElement();t=n.find("["+mt+'="'+e.cid+'"]')}if(!t.length)return!1;t.remove();var i=t.attr(it),r=this.children[i];return r&&this._removeChild(r),!0},renderCollection:function(){this.collection?(this.collection.isEmpty()?L.call(this):(D.call(this),this.collection.forEach(function(e,t){this.appendItem(e,t)},this)),this.trigger("rendered:collection",this,this.collection)):L.call(this)},emptyClass:"empty",renderEmpty:function(){if(this.emptyView||r.call(this,"emptyView",{extension:"-empty"}),this.emptyTemplate||this.emptyView||o.call(this,"emptyTemplate",{extension:"-empty",required:!1}),this.emptyView){var e={};this.emptyTemplate&&(e.template=this.emptyTemplate);var t=st.Util.getViewInstance(this.emptyView,e);return t.ensureRendered(),t}return this.emptyTemplate&&this.renderTemplate(this.emptyTemplate)},renderItem:function(e,t){if(this.itemView||r.call(this,"itemView",{extension:"-item",required:!1}),this.itemTemplate||this.itemView||o.call(this,"itemTemplate",{extension:"-item",required:!this.itemView}),this.itemView){var n={model:e};return this.itemTemplate&&(n.template=this.itemTemplate),st.Util.getViewInstance(this.itemView,n)}return this.renderTemplate(this.itemTemplate,this.itemContext(e,t))},itemContext:function(e){return e.attributes},appendEmpty:function(){var e=this.getCollectionElement();e.empty();var t=this.renderEmpty();t&&this.appendItem(t,0,{silent:!0,filter:!1}),this.trigger("rendered:empty",this,this.collection)},getCollectionElement:function(){var e=this.$(this._collectionSelector);return 0===e.length?this.$el:e},updateFilter:function(){j.call(this)}}),st.CollectionView.on({collection:{reset:N,sort:N,change:function(e){var t=this.getObjectOptions(this.collection);t&&t.change&&this.updateItem(e),H.call(this,e)},add:function(e){var t=this.getCollectionElement();if(1===this.collection.length&&t.length&&D.call(this),t.length){var n=this.collection.indexOf(e);
this.appendItem(e,n)}},remove:function(e){var t=this.getCollectionElement();this.removeItem(e),0===this.collection.length&&t.length&&L.call(this)}}}),st.View.on({collection:{invalid:function(e,t){this.getObjectOptions(e).invalid&&this.trigger("invalid",t,e)},error:function(e,t){this.trigger("error",t,e)}}}),$.fn.collection=function(e){if(e&&e.collection)return e.collection;var t=$(this),n=t.closest("["+bt+"]"),i=n&&n.attr(bt);return i&&(e=t.view())?e.collection:!1},at.model.defaultOptions.populate=!0;var kt=at.model.change;at.model.change=function(e,t){if(this._isChanging=!0,kt.apply(this,arguments),this._isChanging=!1,!t||!t.serializing){var n=V(this);this._renderCount&&n&&this.populate(!n.context&&this.model.attributes,n)}},_.extend(st.View.prototype,{serialize:function(){for(var e,t,n,i=0;i<arguments.length;++i)_.isFunction(arguments[i])?e=arguments[i]:_.isObject(arguments[i])&&("stopPropagation"in arguments[i]&&"preventDefault"in arguments[i]?n=arguments[i]:t=arguments[i]);if(!n||this._preventDuplicateSubmission(n)){t=_.extend({set:!0,validate:!0,children:!0},t||{});var r=t.attributes||{},o=this,s=[];if(I(this,t,function(e){var n=o._getInputValue(e,t,s);_.isUndefined(n)||P(r,e.name,{mode:"serialize"},function(e,t){e[t]?_.isArray(e[t])?e[t].push(n):e[t]=[e[t],n]:e[t]=n})}),t._silent||this.trigger("serialize",r,t),t.validate){var a=this.validateInput(r);if(a&&a.length&&(s=s.concat(a)),this.trigger("validate",r,s,t),s.length)return void this.trigger("invalid",s)}return t.set&&this.model&&!this.model.set(r,{silent:t.silent,serializing:!0})?!1:(e&&e.call(this,r,_.bind(R,this)),r)}},_preventDuplicateSubmission:function(e,t){e.preventDefault();var n=$(e.target);return"form"!==(e.target.tagName||"").toLowerCase()&&(n=$(e.target).closest("form")),n.attr("data-submit-wait")?!1:(n.attr("data-submit-wait","true"),t&&t.call(this,e),!0)},populate:function(e,t){t=_.extend({children:!0},t||{});var n,e=e||this._getContext();I(this,t,function(t){P(e,t.name,{mode:"populate"},function(e,i){if(n=e&&e[i],!_.isUndefined(n)){var r="checkbox"===t.type||"radio"===t.type;r&&_.isBoolean(n)?t.checked=n:r?t.checked=n==t.value:t.value=n}})}),++this._populateCount,t._silent||this.trigger("populate",e)},validateInput:function(){},_getInputValue:function(e){if("checkbox"!==e.type&&"radio"!==e.type){if(e.multiple===!0){var t=[];return $("option",e).each(function(){this.selected&&t.push(this.value)}),t}return e.value}return e.checked?e.getAttribute("value")||!0:void 0},_populateCount:0}),st.View.on({"before:rendered":function(){if(this._renderCount&&(this.model&&this.model.cid)===this._formModelCid){var e=this.getObjectOptions(this.model);this.previousFormData=q(this.serialize(_.extend({set:!1,validate:!1,_silent:!0},e)),function(e){return""!==e&&null!=e})}},rendered:function(){var e=V(this);!e||this._isChanging||this._populateCount||this.populate(!e.context&&this.model.attributes,e),this.previousFormData&&this.populate(this.previousFormData,_.extend({_silent:!0},e)),this._formModelCid=this.model&&this.model.cid,this.previousFormData=null}}),st.View.on({invalid:M,error:M,deactivated:function(){this.$el&&R.call(this)}});var Tt="data-layout-cid";st.LayoutView=st.View.extend({_defaultTemplate:Handlebars.VM.noop,render:function(){var e=st.View.prototype.render.apply(this,arguments);return this.template===Handlebars.VM.noop?F.call(this):U.call(this),e},setView:function(e,t){t=_.extend({scroll:!0},t||{}),_.isString(e)&&(e=new(st.Util.registryGet(st,"Views",e,!1))),this.ensureRendered();var n,i,r,o=this._view;return e===o?!1:(this.trigger("change:view:start",e,o,t),i=_.bind(function(){o&&(o.$el&&o.$el.remove(),B.call(o,"deactivated",t),this._removeChild(o))},this),n=_.bind(function(){if(e){e.ensureRendered(),B.call(this,"activated",t),e.trigger("activated",t),this._view=e;var n=W.call(this);this._view.appendTo(n),this._addChild(e)}else this._view=void 0},this),r=_.bind(function(){this.trigger("change:view:end",e,o,t)},this),t.transition?t.transition(e,o,n,i,r):(i(),n(),r()),e)},getView:function(){return this._view}}),Handlebars.registerHelper("layout-element",function(e){var n=d(e).view;if(!n.getView)throw new Error(t("layout-element-helper"));return e.hash[Tt]=n.cid,f(e.hash),new Handlebars.SafeString(st.Util.tag.call(this,e.hash,"",this))}),st.CollectionHelperView=st.CollectionView.extend({events:{"rendered:item":z("rendered:item"),"rendered:collection":z("rendered:collection"),"rendered:empty":z("rendered:empty")},getCollectionElement:function(){return this.$el},constructor:function(e){e.options["item-template"]&&(e.itemTemplate=st.Util.getTemplate(e.options["item-template"])),e.options["empty-template"]&&(e.emptyTemplate=st.Util.getTemplate(e.options["empty-template"])),!e.itemTemplate&&e.template&&e.template!==Handlebars.VM.noop&&(e.itemTemplate=e.template,e.template=Handlebars.VM.noop),!e.emptyTemplate&&e.inverse&&e.inverse!==Handlebars.VM.noop&&(e.emptyTemplate=e.inverse,e.inverse=Handlebars.VM.noop);var t=_.isFunction(e.itemContext),n=_.isFunction(e.itemFilter),i=st.HelperView.call(this,e);return t?this.itemContext=_.bind(this.itemContext,this.parent):_.isString(this.itemContext)&&(this.itemContext=_.bind(this.parent[this.itemContext],this.parent)),n?this.itemFilter=_.bind(this.itemFilter,this.parent):_.isString(this.itemFilter)&&(this.itemFilter=_.bind(this.parent[this.itemFilter],this.parent)),this.parent.name&&(this.emptyView||this.parent.renderEmpty||(this.emptyView=st.Util.getViewClass(this.parent.name+"-empty",!0)),this.emptyTemplate||this.parent.renderEmpty||(this.emptyTemplate=st.Util.getTemplate(this.parent.name+"-empty",!0)),this.itemView||this.parent.renderItem||(this.itemView=st.Util.getViewClass(this.parent.name+"-item",!0)),this.itemTemplate||this.parent.renderItem||(this.itemTemplate=st.Util.getTemplate(this.parent.name+"-item",!!this.itemView))),i},setAsPrimaryCollectionHelper:function(){_.each(St,function(e){J.call(this,e)},this);var e=this;_.each(["itemFilter","itemContext","renderItem","renderEmpty"],function(t){e.parent[t]&&(e[t]=function(){return e.parent[t].apply(e.parent,arguments)})})}}),_.extend(st.CollectionHelperView.prototype,ft),st.CollectionHelperView.attributeWhiteList={"item-context":"itemContext","item-filter":"itemFilter","item-template":"itemTemplate","empty-template":"emptyTemplate","item-view":"itemView","empty-view":"emptyView","empty-class":"emptyClass"};var St=["itemTemplate","itemView","emptyTemplate","emptyView"];Handlebars.registerViewHelper("collection",st.CollectionHelperView,function(e,t){1===arguments.length&&(t=e,e=t.parent.collection,e&&t.setAsPrimaryCollectionHelper(),t.$el.attr(xt,"true"),t.listenTo(t.parent,"change:data-object",function(e,n){"collection"===e&&(t.setAsPrimaryCollectionHelper(),t.setCollection(n))})),e&&t.setCollection(e)}),Handlebars.registerHelper("collection-element",function(e){if(!d(e).view.renderCollection)throw new Error(t("collection-element-helper"));var n=e.hash;return f(n),n.tagName=n.tagName||"div",n[xt]=!0,new Handlebars.SafeString(st.Util.tag.call(this,n,"",this))}),Handlebars.registerHelper("empty",function(e,t){1===arguments.length&&(t=e);var n=d(t).view;return 1===arguments.length&&(e=n.model),n._emptyListeners||(n._emptyListeners={}),e&&!n._emptyListeners[e.cid]&&e.models&&"length"in e&&(n._emptyListeners[e.cid]=!0,n.listenTo(e,"remove",function(){0===e.length&&n.render()}),n.listenTo(e,"add",function(){1===e.length&&n.render()}),n.listenTo(e,"reset",function(){n.render()})),!e||e.isEmpty()?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("template",function(e,t){var n=_.extend({fn:t&&t.fn},this,t?t.hash:{}),i=d(t).view.renderTemplate(e,n);return new Handlebars.SafeString(i)}),Handlebars.registerHelper("yield",function(e){return d(e).yield&&e.data.yield()}),Handlebars.registerHelper("url",function(e){var t;if(arguments.length>2)t=_.map(_.head(arguments,arguments.length-1),encodeURIComponent).join("/");else{var n=arguments[1],i=n&&n.hash||n;t=i&&i["expand-tokens"]?st.Util.expandToken(e,this):e}if(Backbone.history._hasPushState){var r=Backbone.history.options.root;return"/"===r&&"/"===t.substr(0,1)?t:r+t}return"#"+t}),Handlebars.registerViewHelper("view",{factory:function(e,t){var n=e.length>=1?e[0]:st.View;return st.Util.getViewInstance(n,t.options)},modifyHTMLAttributes:function(e,t){e.tagName=t.el.tagName.toLowerCase()},callback:function(e){var n=arguments[arguments.length-1],i=n._helperOptions.options,r=n.cid;if(!_.isString(e)&&i.hash&&_.keys(i.hash).length>0)throw new Error(t("view-helper-hash-args"));i.fn&&(dt[r]=i.fn)}});var Ct="data-call-method",Et="data-trigger-event";Handlebars.registerHelper("button",function(e,n){1===arguments.length&&(n=e,e=n.hash.method);var i=n.hash,r=i["expand-tokens"];if(delete i["expand-tokens"],!e&&!n.hash.trigger)throw new Error(t("button-trigger"));return f(i),i.tagName=i.tagName||"button",i.trigger&&(i[Et]=i.trigger),delete i.trigger,e&&(i[Ct]=e),new Handlebars.SafeString(st.Util.tag(i,n.fn?n.fn(this):"",r?this:null))}),Handlebars.registerHelper("link",function(){var e=_.toArray(arguments),n=e.pop(),i=n.hash,r=0===e.length?[i.href]:e,o=i["expand-tokens"];if(delete i["expand-tokens"],!r[0]&&""!==r[0])throw new Error(t("link-href"));return f(i),r.push(n),i.href=Handlebars.helpers.url.apply(this,r),i.tagName=i.tagName||"a",i.trigger&&(i[Et]=n.hash.trigger),delete i.trigger,i[Ct]="_anchorClick",new Handlebars.SafeString(st.Util.tag(i,n.fn?n.fn(this):"",o?this:null))});var Nt,At="["+Ct+"], ["+Et+"]";$(document).ready(function(){st._fastClickEventName||X()});var jt="data-element-tmp";Handlebars.registerHelper("element",function(e,t){f(t.hash);var n=_.uniqueId("element"),i=d(t).view;return t.hash[jt]=n,i._elementsByCid||(i._elementsByCid={}),i._elementsByCid[n]=e,new Handlebars.SafeString(st.Util.tag(t.hash))}),st.View.on("append",function(e,t){(e||this.$el).find("["+jt+"]").forEach(function(e){var n=$(e),i=n.attr(jt),r=this._elementsByCid[i];_.isFunction(r)&&(r=r.call(this)),n.replaceWith(r),t&&t(r)},this)}),Handlebars.registerHelper("super",function(e){var n=d(e).view,i=n.constructor&&n.constructor.__super__;if(i){var r=i.template;if(!r){if(!i.name)throw new Error(t("super-parent"));r=i.name}return _.isString(r)&&(r=st.Util.getTemplate(r,!1)),new Handlebars.SafeString(r(this,e))}return""});var Ht,Ot="load:start",Dt="load:end";st.setRootObject=function(e){Ht=e},st.loadHandler=function(e,t,n){var i=_.uniqueId("load");return function(r,o,s){function a(){if(!c.timeout||c.run){var t=void 0!==l._loadingTimeoutDuration?l._loadingTimeoutDuration:st.View.prototype._loadingTimeoutDuration;c.timeout=setTimeout(function(){try{c.events.length&&(c.run=!0,e.call(l,c.message,c.background,c))}catch(t){st.onException("loadStart",t)}},1e3*t)}}var l=n||this;l._loadInfo=l._loadInfo||{};var c=l._loadInfo[i];c?(clearTimeout(c.endTimeout),c.message=r,!o&&c.background&&(c.background=!1,a())):(c=l._loadInfo[i]=_.extend({isLoading:function(){return c.events.length},cid:i,events:[],timeout:0,message:r,background:!!o},Backbone.Events),a()),_.indexOf(c.events,s)>=0||(c.events.push(s),s.on(Dt,function u(){var e=l._loadingTimeoutEndDuration;void 0===e&&(e=st.View.prototype._loadingTimeoutEndDuration);var n=c.events,r=_.indexOf(n,s);r>=0&&!s.isLoading()&&(n.splice(r,1),_.indexOf(n,s)<0&&s.off(Dt,u)),n.length||(clearTimeout(c.endTimeout),c.endTimeout=setTimeout(function(){try{n.length||(c.run&&(t&&t.call(l,c.background,c),c.trigger(Dt,c)),clearTimeout(c.timeout),c=l._loadInfo[i]=void 0)}catch(e){st.onException("loadEnd",e)}},1e3*e))}))}},st.forwardLoadEvents=function(e,t,n){function i(r,o,s){n&&e.off(Ot,i),t.trigger(Ot,r,o,s)}return e.on(Ot,i),{off:function(){e.off(Ot,i)}}},st.mixinLoadable=function(e,t){_.extend(e,{_loadingClassName:"loading",_loadingTimeoutDuration:.33,_loadingTimeoutEndDuration:.1,onLoadStart:function(e,n,i){var r=t?this.parent:this;r&&r.el&&(r.nonBlockingLoad||n||!Ht||Ht===this||Ht.trigger(Ot,e,n,i),r._isLoading=!0,$(r.el).addClass(r._loadingClassName),r.trigger("change:load-state","start",n))},onLoadEnd:function(){var e=t?this.parent:this;e&&e.el&&(e._isLoading=!1,$(e.el).removeClass(e._loadingClassName),e.trigger("change:load-state","end"))}})},st.mixinLoadableEvents=function(e,t){_.extend(e,{_loadCount:0,isLoading:function(){return this._loadCount>0},loadStart:function(e,n){this._loadCount++;var i=t?this.parent:this;i.trigger(Ot,e,n,i)},loadEnd:function(){this._loadCount--;var e=t?this.parent:this;e.trigger(Dt,e)}})},st.mixinLoadable(st.View.prototype),st.mixinLoadableEvents(st.View.prototype),st.HelperView&&(st.mixinLoadable(st.HelperView.prototype,!0),st.mixinLoadableEvents(st.HelperView.prototype,!0)),st.CollectionHelperView&&(st.mixinLoadable(st.CollectionHelperView.prototype,!0),st.mixinLoadableEvents(st.CollectionHelperView.prototype,!0)),st.sync=function(e,t,n){var i=this,r=n.complete;return n.complete=function(){i._request=void 0,i._aborted=!1,r&&r.apply(this,arguments)},this._request=Backbone.sync.apply(this,arguments),this._request};var Lt=[];st.Model&&Lt.push(st.Model),st.Collection&&Lt.push(st.Collection),_.each(Lt,function(e){var t=e.prototype.fetch;st.mixinLoadableEvents(e.prototype,!1),_.extend(e.prototype,{sync:st.sync,fetch:function(n){function i(e){var t=n[e];n[e]=function(){r.loadEnd(),t&&t.apply(this,arguments)}}if(n=n||{},e===st.Collection&&(_.find(["reset","remove","add","update"],function(e){return!_.isUndefined(n[e])})||(n.reset=!0)),!n.loadTriggered){var r=this;i("success"),i("error"),r.loadStart(void 0,n.background)}return Z.call(this,n||{},t)},load:function(e,t,n){2!==arguments.length||_.isFunction(t)||(n=t,t=!1),n=n||{},n.background||this.isPopulated()||!Ht||(this.isLoading()?Ht.trigger(Ot,n.message,n.background,this):st.forwardLoadEvents(this,Ht,!0)),K.call(this,e,t,n)}})}),st.Util.bindToRoute=Y,st.View.prototype._modifyDataObjectOptions=function(e,t){return t.ignoreErrors=this.ignoreFetchError,t.background=this.nonBlockingLoad,t},st.HelperView.prototype._modifyDataObjectOptions=st.CollectionHelperView.prototype._modifyDataObjectOptions=function(e,t){return t.ignoreErrors=this.parent.ignoreFetchError,t.background=this.parent.nonBlockingLoad,t},at.collection.loading=function(){var e=this.loadingView,t=this.loadingTemplate,n=this.loadingPlacement;if(e||t){var i=st.loadHandler(_.bind(function(){var i;if(0===this.collection.length&&this.$el.empty(),e){var r=st.Util.getViewInstance(e);this._addChild(r),t?r.render(t):r.render(),i=r}else i=this.renderTemplate(t);var o=n?n.call(this):this.collection.length;this.appendItem(i,o),this.$el.children().eq(o).attr("data-loading-element",this.collection.cid)},this),_.bind(function(){this.$el.find('[data-loading-element="'+this.collection.cid+'"]').remove()},this),this.collection);this.listenTo(this.collection,"load:start",i)}},st.CollectionHelperView&&_.extend(st.CollectionHelperView.attributeWhiteList,{"loading-template":"loadingTemplate","loading-view":"loadingView","loading-placement":"loadingPlacement"}),st.View.on({"load:start":st.loadHandler(function(e,t,n){this.onLoadStart(e,t,n)},function(e,t){this.onLoadEnd(t)}),collection:{"load:start":function(e,t,n){this.trigger(Ot,e,t,n)}},model:{"load:start":function(e,t,n){this.trigger(Ot,e,t,n)}}}),Handlebars.registerHelper("loading",function(e){var t=d(e).view;return t.off("change:load-state",tt,t),t.on("change:load-state",tt,t),t._isLoading?e.fn(this):e.inverse(this)});var qt=/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());qt&&(st.View.on("before:append",function(){this._renderCount>0&&(_.each(this._elementsByCid,function(e){$(e).detach()}),_.each(this.children,function(e){e.$el.detach()}))}),st.CollectionView.prototype._replaceHTML=function(e){if(!this.getObjectOptions(this.collection)||!this._renderCount)return yt.call(this,e);var t,n=this.getCollectionElement().clone(!0,!0);t=yt.call(this,e),n.attr("data-view-cid")||this.getCollectionElement().replaceWith(n)})}(),define("thorax",["handlebars","backbone"],function(e){return function(){var t;return t||e.Thorax}}(this)),define("layout-view",["thorax"],function(e){return e.LayoutView.extend({})}),define("hbs",["handlebars"],function(e){var t={},n=".hbs";return{load:function(i,r,o,s){var a=s.hbs&&s.hbs.templateExtension?s.hbs.templateExtension:n;if(s.isBuild){var l=nodeRequire("fs"),c=s.dirBaseUrl+"/"+i+a;t[i]=l.readFileSync(c).toString(),o()}else r(["text!"+i+a],function(t){o(e.compile(t))})},write:function(n,i,r){var o=e.precompile(t[i]);r("define('hbs!"+i+"', ['handlebars'], function(Handlebars){ \nreturn Handlebars.template("+o.toString()+");\n});\n")}}}),define("hbs!templates/root",["handlebars"],function(e){return e.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,s="",a="function",l=this.escapeExpression;return s+="\n    \n",(o=n["layout-element"])?o=o.call(t,{hash:{},data:r}):(o=t["layout-element"],o=typeof o===a?o.apply(t):o),s+=l(o)+"\n"})}),define("views/root",["layout-view","hbs!templates/root"],function(e,t){var n,i=e.extend({name:"root",template:t});return i.getInstance=function(e){return n||(n=new i,n.appendTo(e||document.body)),n},i}),define("view",["thorax"],function(e){return e.View.extend({})}),define("hbs!templates/hello-world/index",["handlebars"],function(e){return e.template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="header">\n  <div class="thorax-container">\n    <img width="112" height="17" alt="Thorax" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAAAiBAMAAADCGXrmAAAAMFBMVEX///////////////////////////////////////////////////////////////9Or7hAAAAAD3RSTlMARHfu3REzuyLMZlWImaokGdJiAAAC/klEQVR4Xr2XvW4TQRCAF+I44DjERpRInAQNorCFdCINSppQANKdFCRaCx7AzhPEUh4Ad5T4DWyewK5o8Rs4HS3+ISSG3HFzOzuzg23dogOm8c7deL/dmdnZORXbUlFK7SbKRKVyLxl+VUbefInj94+MBoYoTz4pS8bw6AKV6zHNdhOGh868zQfa5GmbeSTHjNvcB8TUqCeJMk+Vmga48u4bm6uQeCxd4pVS/dKoTdA8s45IufJes9GzFbwF8W5powY5FL27AwPflVcMxGYET8yv3ml9aPQPifId54r7rrxT2+rHCl7L8GpaPxAO7WtupBx5YM0yay/zzmk/vCZ26KH+8RO9mgjMO4VBuJqnreOXH6sPrc3s4r/u2glZNFlF+Rqkb49M3iiJWOZRUB7D6A5lBxu+xRCBlCE5wQeYxRi4xhht3HifYYZGulzw11zyyvgIpAC+DCip8G18DNA9Z94+R+gVZSPxrsEj5A2SYR2W1xIOnaE73XjbaE2TD9fywG9nTapo5FByp0RwGoDUkFfGgFCF6hCPssmqZt2CXdHUDqXwGh4L8rbshOvhQ+Yd6cVTNQspoLQGEM+ZJ9aLzmLeNgToJ1ezSPu/QcABllQ33rr4SsMJV7OFzq/hbyX1/K/yDriafdNZUyde+R/wKpoX6GQaUEXjBL1UuePHcmVVM0+/isQBhOe585NlZHmujRELhTuhvGSe94zzR/IC322g30p0TYrznru+oMxk5qN0yJ0oXv76Oa3etmca27wL6wJ8/mf1erz2ftAp6eNWROSn1gVfOUGH5r//ejx1iWG0KmwkTjPu26z7nXkF7jC2YiEV+quvf/YyeNn9ywQ3NcJqJmTEDSj3aRLh3p+xYUC5UZO8+lI/2HXlyf5T8nq08oCvThguuN/FU++78mR/LXkFE6tirKu16Xii5X4+g5f5/TAxWdkyWzizTkGo3TnnWtB35cnvI2kYYEw3yNm4aY+/x7Cm+s48/v6TPAzgPMQdhFaR7qgmJ+8NdOj/lV9orr49CWN3hgAAAABJRU5ErkJggg==">\n  </div>\n</div>\n\n<div class="thorax-container thorax-wrapper">\n  <div class="thorax-primary">\n\n    <h1 id="thorax-generator">Thorax Generator</h1>\n<p>Generate a new <a href="http://thoraxjs.org/">Thorax</a> application. Includes some configurable options and some opinions.</p>\n<pre><code class="lang-sh">$ npm install -g yo generator-thorax\n$ yo thorax desired-application\n$ cd desired-application\n$ grunt</code></pre>\n<p>For a snazzier development environment, it&#39;s recommended that you install the <a href="https://chrome.google.com/webstore/detail/thorax-inspector/poioalbefcopgeaeaadelomciijaondk?hl=en-US">Thorax Inspector Chrome Extension</a> before getting started.</p>\n<h2 id="stack">Stack</h2>\n<ul>\n<li>Thorax, a framework for building better Backbone applications</li>\n<li>Handlebars, a framework that works out of the box with Thorax for writing dynamic JavaScript views in HTML, variables are inserted using the <code>&#123;&#123; handlebars &#125;&#125;</code> syntax</li>\n<li>Grunt, a framework for declaratively defining CLI tasks, e.g., for running tests, compiling stylesheets, creating a production build of your app.</li>\n<li>Bower, a package manager for the browser making it easy to pull in 3rd party libraries</li>\n<li>Your choice of LESS/Stylus/SASS for more productive stylesheets</li>\n<li>Automated JavaScript testing stack:<ul>\n<li>Mocha w/ Chai - for BDD style tests</li>\n<li>Karma, a framework for piping test results to the command line for a rapid testing feedback loop</li>\n<li>Built in support for Travis CI</li>\n</ul>\n</li>\n<li>Require JS, a framework for working with modules in the browser<ul>\n<li><code>hbs!</code> Require JS plugin for &#39;just in time&#39; compiling of Handlebars templates for rapid feedback during development. Templates will be pre-compiled when creating a production build via the r.js optimizer provided as a grunt task</li>\n<li><code>cs!</code> Require JS plugin for &#39;just in time&#39; compiling of CoffeeScript files, allowing you to mix CoffeeScript and JavaScript files at will, enjoy rapid feedback during development, including fast tests. CoffeeScript will be pre-compiled to JavaScript when creating a production build via the r.js optimizer provided as a grunt task</li>\n</ul>\n</li>\n<li>Yoeman Generators<ul>\n<li>generating a new application</li>\n<li>generate a new router, view, model, collection or helper with an example test written in Mocha + Chai</li>\n</ul>\n</li>\n<li>Live Reload, for automated browser reloading during development</li>\n<li>Built in deployment strategies for Heroku and Nodejitsu, for quick and efficient deployment of your app to the cloud.</li>\n</ul>\n<h2 id="directory-structure">Directory Structure</h2>\n<ul>\n<li><code>bower_components</code> Installed third party libraries. Managed by <a href="http://bower.io/">Bower</a>, do not modify directly.</li>\n<li><code>css</code> Regardless of whether you are using a CSS superset (LESS / Stylus / SASS) or plain CSS, this is where your CSS should live. This will get copied or compiled to <code>public/css</code> when running <code>grunt build</code></li>\n<li><code>js</code><ul>\n<li><code>collections</code></li>\n<li><code>models</code></li>\n<li><code>routers</code></li>\n<li><code>templates</code></li>\n<li><code>views</code></li>\n<li><code>collection-view.js</code></li>\n<li><code>collection.js</code></li>\n<li><code>layout-view.js</code></li>\n<li><code>require-config.js</code> <strong>Require JS data-main entry point</strong></li>\n<li><code>model.js</code></li>\n<li><code>view.js</code></li>\n</ul>\n</li>\n<li><code>node_modules</code></li>\n<li><code>public</code> The connect server will serve this directory at <code>/public</code><ul>\n<li><code>css</code> Generated or copied CSS from the <code>css</code> directory, do not modify.</li>\n<li><code>fonts</code> Any web fonts for your application, safe to modify.</li>\n<li><code>img</code> Any images, safe to modify</li>\n<li><code>index.html</code> Do not modify, and add new libraries to <code>/require-config.js</code></li>\n</ul>\n</li>\n<li><code>tasks</code> Put your custom grunt tasks in here<ul>\n<li><code>options</code> Installed grunt options are looked up here, by file name</li>\n</ul>\n</li>\n<li><code>bower.json</code> Third party library management via <a href="http://bower.io/">Bower</a></li>\n<li><code>Gruntfile.js</code> <a href="http://gruntjs.com/">Grunt</a> build file. <code>grunt</code> will run the default task specified in this file.</li>\n<li><code>package.json</code> Any <code>npm</code> dependencies needed to build / compile your application.</li>\n<li><code>README.md</code> A copy of this very file!</li>\n</ul>\n<h2 id="grunt-tasks">Grunt Tasks</h2>\n<p>Every generated application comes fully loaded with an amazing development and testing environment. Furthermore, when you&#39;re ready to show the world what you&#39;ve made, building a production version of your application and deploying it to the cloud is painless and even testable in multiple browsers.</p>\n<h3 id="development">Development</h3>\n<p><strong> Run <code>grunt</code></strong></p>\n<p>The best way to get up and running in development is to run <code>grunt</code> from the command line. This will boot a connect server and open up a browser to <code>http://localhost:8000/</code>.</p>\n<p>Connect will also serve your tests at <code>http://localhost:8000/test</code>.</p>\n<p>LiveReload will reload both <code>/</code> and <code>/test</code> when changes are made to any file within your directory while <code>grunt</code> is running in the background.</p>\n<h3 id="testing">Testing</h3>\n<p><strong> Run <code>grunt autotest</code></strong></p>\n<p>The easiest way to run your tests is perhaps just to stick with the test runner page provided when running the default <code>grunt</code> task discussed above.</p>\n<p>However, every application also comes with <a href="https://github.com/karma-runner/karma">karma</a> setup to run your mocha tests inside your terminal window out of the box.</p>\n<p>To try this out run <code>grunt autotest</code> from the command line. By default karma is setup to run tests in Chrome which is the most reliable and fastest way to gain rapid feedback from a real browser during development.</p>\n<h3 id="advanced-testing">Advanced Testing</h3>\n<p><strong> Run <code>grunt</code> in one window and <code>karma start</code> in a second</strong></p>\n<p>Another option for running your tests is to skip grunt altogether and simply run <code>karma start</code> from your terminal window. This option will provide the fastest feedback loop during development and is recommended once your comfortable running your tests completely on the command line.</p>\n<p>You still may want to run <code>grunt</code> in a second terminal window to hook up livereload to your application when adjusting styles or manually clicking through your app, but running <code>karma start</code> will shave roughly a second off of each test run making for a very tight feedback loop.</p>\n<h4 id="debugging-karma">Debugging Karma</h4>\n<p>To gain access to the console and debugging tools provided by Chrome, click on the <code>Debug</code> button at the top of the window booted by karma. Within here you&#39;ll have full access to your Thorax application, even though the page itself is white.</p>\n<h3 id="production">Production</h3>\n<p><strong> Run <code>grunt production</code></strong></p>\n<p>When you&#39;re ready to build concatenated and minified versions of your css and JavaScript source run <code>grunt production</code>. The output can be found in <code>dist/</code> and a browser window will be booted so you can play with the production version of your application before deployment.</p>\n<h4 id="test-your-production-build-in-multiple-browsers">Test Your Production Build in Multiple Browsers</h4>\n<p><strong> Run <code>grunt deploy</code></strong></p>\n<p>Before deploying your application run <code>grunt deploy</code> to run your tests against the built version of your application inside the following browsers:</p>\n<ul>\n<li>Chrome</li>\n<li>Firefox</li>\n<li>Safari</li>\n<li>PhantomJS</li>\n</ul>\n<p>To test your application in IE you&#39;ll need a Windows box. Run <code>npm install karma-ie-launcher --save-dev</code> and add <code>IE</code> to the array of browsers within the deploy task inside <code>tasks/options/karma.js</code>. However, using <a href="https://saucelabs.com/">Sauce Labs</a> in conjunction with the <a href="https://github.com/karma-runner/karma-sauce-launcher">Karma Sauce Launcher</a> is the recommended and effective solution to this common problem.</p>\n<h4 id="phantom-js-with-karma-or-mocha-phantomjs">Phantom JS with Karma or Mocha-PhantomJS</h4>\n<p>If you prefer to manually run your tests via the command line during development every generated app also provides to ways to accomplish this:</p>\n<ul>\n<li><code>grunt test</code> will run your tests with Phantom JS via karma</li>\n<li><code>grunt test-mocha-phantomjs</code> will run your tests with <a href="https://github.com/metaskills/mocha-phantomjs">Mocha PhantomJS</a>, which also outputs to your terminal but provides a nicer UI than Karma in a format that reads like documentation, similar to what you&#39;ll find in the browser window when running <code>grunt</code> or when running mocha tests in node js.</li>\n</ul>\n<h4 id="continuous-integration-with-travis-ci">Continuous Integration with Travis CI</h4>\n<p><strong>Use github, flip on Travis CI switch</strong></p>\n<p>If you host your application as a repo on github(public or private), you can optionally turn on Travis CI support. Every application is generated with a <code>.travis.yml</code> file, so once the switch has been turned on, it&#39;ll work out of the box.</p>\n<h2 id="deployment">Deployment</h2>\n<p>Every generated application comes setup ready to deploy to either Heroku and/or nodejitsu.</p>\n<p><strong>To deploy to heroku:</strong></p>\n<ol>\n<li>Make sure you have the <a href="https://toolbelt.heroku.com/">Heroku Toolbelt</a> installed and you have logged into your account via <code>heroku login</code>.</li>\n<li>Build your app: <code>grunt production</code>. This will output a minified version of your app to <code>dist/</code> which heroku will serve up.</li>\n<li>Make sure you have committed your changes to git:<ul>\n<li><code>git add .</code></li>\n<li><code>git commit -m &quot;commit message here&quot;</code></li>\n</ul>\n</li>\n<li>Run <code>heroku create</code> from the command line.</li>\n<li>Run <code>git push heroku master</code></li>\n<li>Run <code>heroku open</code> to see your app live on the web!</li>\n</ol>\n<p>Note: During deployment run <code>foreman start</code> to test your application. Open your browser to port <code>5000</code> to view your app.</p>\n<p><strong>To deploy to nodejitsu:</strong></p>\n<ol>\n<li>Install the tool: <code>npm install jitsu -g</code></li>\n<li>Create an account: <code>jitsu signup</code></li>\n<li>Login: <code>jitsu login</code></li>\n<li>Build your application: <code>grunt production</code></li>\n<li>Deploy: <code>jitsu deploy</code></li>\n</ol>\n<p>That&#39;s it. Your <code>package.json</code> file already has a <code>scripts</code> option named <code>start</code> that nodejitsu will use to boot the application.</p>\n<h3 id="coffeescript-support">CoffeeScript Support</h3>\n<p>Out of the box all generators can optionally output CoffeeScript.</p>\n<p>When generating a new application, the generator will simply ask you if you want CoffeeScript or JavaScript and act accordingly by outputting the generated application with the files of the chosen format.</p>\n<p>Running a sub generator, like <code>yo thorax:router</code>, will look for the presence of at least one <code>.coffee</code> file within <code>js/</code> and choose whether to output CoffeeScript or JavaScript accordingly.</p>\n<p>To force CoffeeScript output, append <code>--coffee</code> to any of the following commands.</p>\n<p>To force JavaScript output, append <code>--js</code> to any of the following commands.</p>\n<h5 id="requiring-a-coffeescript-module">Requiring a CoffeeScript Module</h5>\n<p>Regardless of what a generator outputs, <code>.coffee</code> files are always supported out of the box.</p>\n<p>To require a CoffeeScript module instead of a JavaScript module simply prefix the module name with <code>cs!</code>. For example: (inside a JavaScript module or CoffeeScript module)</p>\n<pre><code class="lang-js">  require([&#39;cs!my-module&#39;], function(myModule) &#123; ... &#125;)</code></pre>\n<p>Prefixing a module name with <code>cs!</code> will compile the CoffeeScript file on the fly removing the need for pre-compilation during development.</p>\n<p>When creating a production build with <code>grunt production</code> however, the r.js optimizer will pre-compile the CoffeeScript files to JavaScript before doing concatenation and minification.</p>\n<h3 id="handlebars-support">Handlebars Support</h3>\n<p>Similar to how CoffeeScript files are compiled on the fly using the <code>cs!</code> Require JS plugin, Handlebars files ending in <code>.hbs</code> also benefit from not having to run through a compile phase.</p>\n<p>To require a handlebars template for use in a view, prefix the name of the module with <code>hbs!</code>. For example, inside a view or collection view:</p>\n<pre><code class="lang-js">  require([&#39;hbs!my-template&#39;], function(template) &#123; ... &#125;)</code></pre>\n<p>Handlebars files will be treated as JavaScript templates therefore leave off the trailing <code>.hbs</code> when requiring a template within a view or collection-view.</p>\n<p>One current caveat with this approach is that the <code>template</code> option within a view or collection-view will always need to be manually set.</p>\n<h2 id="generators">Generators</h2>\n<h3 id="application-generator-">Application Generator:</h3>\n<p>Generate a new Thorax Application using the software stack mentioned above:</p>\n<pre><code class="lang-sh">$ yo thorax app-name</code></pre>\n<h3 id="sub-generators-">Sub Generators:</h3>\n<p>Use these within an existing Thorax application:</p>\n<pre><code class="lang-sh">$ yo thorax:router name\n$ yo thorax:view name\n$ yo thorax:model name\n$ yo thorax:collection name\n$ yo thorax:collection-view name</code></pre>\n<p>The <code>name</code> argument may include a directory path, such as <code>todo-list/index</code>:</p>\n<pre><code class="lang-sh">$ yo thorax:router todo-list\n$ yo thorax:view todo-list/index</code></pre>\n<h2 id="from-zero-to-todos">From Zero to Todos</h2>\n<h3 id="install-the-generator">Install the generator</h3>\n<pre><code class="lang-sh">$ npm install -g yo generator-thorax</code></pre>\n<h3 id="generate-your-application">Generate your application</h3>\n<pre><code class="lang-sh">$ yo thorax todo-list\n[?] Would you like to generate the app in a new directory? Yes\n[?] Choose a css pre-processor: (Use arrow keys)\n    ❯ Less with bootstrap (default choice)\n      Sass\n      Stylus\n      Plain CSS\n[?] Would you like to use CoffeeScript? No\n[?] Would you like to use Zepto in place of jQuery (Zepto is best for mobile apps)\n[?] Would you like to setup your project with a sample application? (Use arrow keys)\n      Hello World\n      Todo List\n    ❯ None</code></pre>\n<p>...and then <code>$ cd todo-list</code>.</p>\n<p>Note that had you chosen <code>Todo List</code> for the sample application above, you would have generated the completed version of the app we&#39;re about to build. You may want to do this when we&#39;re finished to check your work.</p>\n<h3 id="sub-generators">Sub Generators</h3>\n<p>A sub-generator is a generator that you use within your app, after it has been initially created.</p>\n<p>Both application and test files are output from all sub-generators and CoffeeScript files will be output in place of JS files if one or more CoffeeScript files are present within your application. To override this settings pass <code>--js</code> or <code>--coffee</code> at the end any sub-generator command.</p>\n<p>In the following section, we&#39;ll build a Todo App using sub-generators. Note that test files will be omitted for brevity.</p>\n<h5 id="generate-a-view-">Generate a View:</h5>\n<pre><code class="lang-sh">$ yo thorax:view todo-list/index</code></pre>\n<p>This generates two new files, a view and a matching template:</p>\n<pre><code class="lang-sh">create js/views/todo-list/index.js\ncreate js/templates/todo-list/index.hbs</code></pre>\n<p><code>views/todo-list/index.js</code> should contain the following code:</p>\n<pre><code class="lang-js">define([\n &#39;view&#39;,\n &#39;hbs!templates/todo-list/index&#39; // IMPORTANT, prefix with hbs! when requiring a template\n], function (View, template) &#123;\n return View.extend(&#123;\n   name: &#39;todo-list/index&#39;,\n   template: template  // passed as `template` arg above, must be set\n  &#125;);\n&#125;);</code></pre>\n<p>Had we been using CoffeeScript in our application the output would instead look like:</p>\n<pre><code class="lang-cs">define [\n  &#39;cs!view&#39;, # IMPORTANT, prefix with cs! when requiring a module written in CS\n  &#39;hbs!templates/todo-list/index&#39;\n], (View, template) -&gt;\n  View.extend\n    name: &#39;todo-list/index&#39;\n    template: template</code></pre>\n<p>Those familiar with RequireJS will be thrilled to see the define() call above, and those who aren&#39;t should read the <a href="#require-js">section about require js</a>for short summary.</p>\n<h5 id="generate-a-router-">Generate a Router:</h5>\n<pre><code class="lang-sh">$ yo thorax:router todo-list</code></pre>\n<p>This will generate one new file...</p>\n<pre><code class="lang-sh">create js/routers/todo-list.js</code></pre>\n<p>...into which the following code will be inserted:</p>\n<pre><code class="lang-js">define([\n  &#39;backbone&#39;\n  &#39;views/root&#39;,\n], function (Backbone, RootView) &#123;\n  return Backbone.Router.extend(&#123;  //plain Backbone. Thorax doesn&#39;t touch the router.\n    routes: &#123;\n    &#125;\n  &#125;);\n&#125;);</code></pre>\n<p>Now that we have our files, we can start editing them. Let&#39;s first get something up on the screen. We&#39;ll add our index route to <code>js/routers/todo-list.js</code>, and an <code>index</code> function Backbone will fire for us when that route is hit. Inside of that function we&#39;ll create an instance of our view, which we&#39;ll be able to access because we&#39;ve passed it into scope by way of the dependencies array...</p>\n<pre><code class="lang-js">define([\n  &#39;backbone&#39;,  //included because we&#39;re calling the Backbone object below. While Backbone depends on Underscore, we wouldn&#39;t pass that in unless we were going to use &quot;_&quot; inside of our callback.\n  &#39;views/root&#39;,  //this is what&#39;s going to get attached to the DOM. More on that soon.\n  &#39;views/todo-list/index&#39;  //this is the view class we&#39;re going to instantiate below...\n], function (Backbone, RootView, TodoListIndexView) &#123;  //...but to make it available we&#39;re going to need to add it and pass it into our callback, here we&#39;ve named it TodoListIndexView\n  return Backbone.Router.extend(&#123;\n    routes: &#123;\n      &quot;&quot;: &quot;index&quot; //add an index route\n    &#125;,\n    index: function()&#123;\n      var view = new TodoListIndexView(&#123;&#125;);  //Hey! I&#39;m a view getting instantiated! My template will be rendered\n      RootView.getInstance().setView(view);  //Nuke whatever was in the &#123;&#123;layout-element&#125;&#125; element in root.hbs (and do memory management), replace it with the template rendered by the line above.\n    &#125;\n  &#125;);\n&#125;);</code></pre>\n<p>...and then give <code>templates/todo-list/index.handlebars</code> something to render:</p>\n<pre><code class="lang-html">&lt;p&gt; Arrrr! I&#39;m a pirate with a handlebar mustache. &lt;/p&gt;</code></pre>\n<p>Finally, edit <code>js/main.js</code>. To the list of dependencies required by this module, add <code>&#39;routers/todo-list&#39;</code>. Add it before <code>&#39;helpers&#39;</code>. Also make sure to inject the dependency into the module as an argument to the factory function. Then instantiate the router inside the initialize function, before calling <code>next();</code>.</p>\n<p>The final changes should look like:</p>\n<pre><code class="lang-javascript">  require([\n    &#39;jquery&#39;,\n    &#39;backbone&#39;,\n    &#39;views/root&#39;,\n    &#39;routers/todo-list&#39;, // ADDED\n    &#39;helpers&#39;,\n  ], function ($, Backbone, RootView, TodoListRouter) &#123; // MODIFIED\n\n    // Initialize your routers here\n      new TodoListRouter(); // ADDED\n\n    ...snip...</code></pre>\n<h5 id="run-grunt-to-build-and-view-your-application">Run <code>grunt</code> to build and view your application</h5>\n<p>Now that we have something on screen, let&#39;s get some data on the screen and finish the rest of our todo list.</p>\n<h5 id="render-a-collection">Render a Collection</h5>\n<p>To implement a todo list, we need to create a collection and set it on the view. Unlike a <code>Backbone.View</code> instance, a <code>Thorax.View</code> instance does not have an <code>options</code> object. All properties passed to the constructor are set on the instance and also become available inside of the handlebars template. We&#39;ll now update <code>js/routers/todo-list.js</code>...</p>\n<pre><code class="lang-js">define([\n  &#39;backbone&#39;,\n  &#39;collection&#39;,  // ADDED\n  &#39;views/root&#39;,\n  &#39;views/todo-list/index&#39;\n], function(Backbone, Collection, RootView, TodoListIndexView) &#123;  //and also add the &#39;Collection&#39; arg here\n  return Backbone.Router.extend(&#123;\n    routes: &#123;\n      &quot;&quot;: &quot;index&quot;\n    &#125;,\n    index: function() &#123;\n      var collection = new Collection([&#123;  //here we instantiate the collection and populate it with a single model with two properties, &#39;title&#39; and &#39;done&#39;\n        title: &#39;First Todo&#39;,\n        done: true\n      &#125;]);\n      var view = new TodoListIndexView(&#123;\n        collection: collection  //here we set the &#39;collection&#39; property of our view to the collection we just instantiated\n      &#125;);\n      RootView.getInstance().setView(view);\n    &#125;\n  &#125;);\n&#125;);</code></pre>\n<p>To display the collection we will edit <code>templates/todo-list/index.hbs</code> and use the <code>collection</code> handlebars helper to loop through each model in the collection:</p>\n<pre><code class="lang-html">&#123;&#123;#collection&#125;&#125;\n    render the code between the opening and\n    closing collection tags for each model\n    in the collection\n&#123;&#123;/collection&#125;&#125;</code></pre>\n<p>Beautifully, all of the properties of the associated model are available in the helpers (see <code>&#123;&#123;title&#125;&#125;</code> below).  A <code>tag</code> option may be specified to define what type of HTML tag will be used when creating the collection element:</p>\n<pre><code class="lang-html">&#123;&#123;#collection tag=&quot;ul&quot;&#125;&#125;\n  &lt;li&gt;&#123;&#123;title&#125;&#125;&lt;/li&gt;\n&#123;&#123;/collection&#125;&#125;</code></pre>\n<p>Since we want to be able to mark our todos as done and add new ones, we will add a checkbox to each item in the collection and a form to make new items at the bottom. Our <code>templates/todo-list/index.hbs</code> should now look like:</p>\n<pre><code class="lang-html">&#123;&#123;#collection tag=&quot;ul&quot;&#125;&#125;\n  &lt;li &#123;&#123;#done&#125;&#125;class=&quot;done&quot;&#123;&#123;/done&#125;&#125;&gt;\n    &lt;input type=&quot;checkbox&quot; &#123;&#123;#done&#125;&#125;checked&#123;&#123;/done&#125;&#125;&gt;\n    &#123;&#123;title&#125;&#125;\n  &lt;/li&gt;\n&#123;&#123;/collection&#125;&#125;\n&lt;form&gt;\n  &lt;input name=&quot;title&quot;&gt;\n  &lt;input type=&quot;submit&quot; value=&quot;Add&quot;&gt;\n&lt;/form&gt;</code></pre>\n<p>We&#39;ll also create a style sheet called <code>css/todo-list.css</code>, which will be automatically applied ONLY to the view with the same filename. Populate it with the following code:</p>\n<pre><code class="lang-css">.done &#123;\n  text-decoration: line-through;\n&#125;</code></pre>\n<p>To get our new css file to load we will add the link to our public/index.html file. It should look like this:</p>\n<pre><code class="lang-html">&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;title&gt;Thorax-Todo&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/base.css&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/todo-list.css&quot;&gt; &lt;!-- Add this line to reference our custom stylesheet. --&gt;\n  &lt;/head&gt;\n  &lt;body&gt;</code></pre>\n<h2 id="view-behaviors">View Behaviors</h2>\n<p>In order to add new items to the list we should listen to the <code>submit</code> event on <code>form</code> elements in our view. We can use the events hash in <code>js/views/todo-list/index.js</code>:</p>\n<pre><code class="lang-js">    events: &#123;\n        &quot;submit form&quot;: function(event) &#123;\n            event.preventDefault();\n            var attrs = this.serialize();\n            this.collection.add(attrs)\n            this.$(&#39;input[name=&quot;title&quot;]&#39;).val(&#39;&#39;);\n        &#125;,</code></pre>\n<p>The <code>serialize</code> method will return key value pairs of all attributes in form elements on the page. Since we had an input with a name of <code>title</code> attrs will be set to: <code>&#123;title: &quot;your todo&quot;&#125;</code>. When using the <code>collection</code> helper or a <code>CollectionView</code>, Thorax adds, removes and updates views in the collection as appropriate. When we <code>add</code> a new model to the collection the view will automatically update.</p>\n<pre><code class="lang-js">&#39;change input[type=&quot;checkbox&quot;]&#39;: function(event) &#123;\n  var model = $(event.target).model();\n  model.set(&#123;done: event.target.checked&#125;);\n&#125;</code></pre>\n<p>We also need to listen for a change in a checkbox so we can mark a model as done. Thorax extends the jQuery or Zepto <code>$</code> object with three methods: <code>$.view</code>, <code>$.model</code> and <code>$.collection</code>. They will retrieve closest bound object to an element. In this case, a model was automatically bound to the <code>li</code> tag passed into the <code>collection</code> helper in the template. Now that we have a reference to the <code>model</code> we can update it and the view will automatically update.</p>\n<p>Our finished <code>js/views/todo-list/index.js</code> file should look like:</p>\n<pre><code class="lang-js">define([\n  &#39;view&#39;,\n  &#39;templates/todo-list/index&#39;\n], function(View, template) &#123;\n  return View.extend(&#123;\n    name: &quot;todo-list/index&quot;,\n    template: template,\n    events: &#123;\n      &quot;submit form&quot;: function(event) &#123;\n        event.preventDefault();\n        var attrs = this.serialize();\n        this.collection.add(attrs);\n        this.$(&#39;input[name=&quot;title&quot;]&#39;).val(&#39;&#39;);\n      &#125;,\n      &#39;change input[type=&quot;checkbox&quot;]&#39;: function(event) &#123;\n        var model = $(event.target).model();\n        model.set(&#123;done: event.target.checked&#125;);\n      &#125;\n    &#125;\n  &#125;);\n&#125;);</code></pre>\n<p>And that&#39;s a finished non-persistent todo list application! For more complex examples and tutorials using the thorax framework, see the <a href="http://thoraxjs.org">tutorials on the Thorax homepage</a></p>\n<h2 id="require-js">Require JS</h2>\n<p>Instead of compiling requiring script tags in your HTML, Require JS is used to load AMD modules instead of plain JavaScript files.</p>\n<h3 id="adding-a-new-dependency-to-your-app">Adding a New Dependency to Your App</h3>\n<p>To add a new library to your app. Here are the steps:</p>\n<ol>\n<li>Install the library via bower by running <code>bower install library-name --save-dev</code>. If the library is not updated regularly from bower try pointing the version to a github tag, for example: <code>&quot;library-name&quot;: &quot;some-github-profile/library-name#v0.1&quot;</code> inside of your <code>bower.json</code> file.</li>\n<li>Open <code>require-config.js</code> at the root of your application and add a <code>path</code> that points the the AMD module version of the library installed by bower. If the library does not have an AMD module version(many don&#39;t) you&#39;ll need to setup a <code>shim</code> settings, which tells Require JS to wrap a normal JS file as a module you can require. Also make sure to set the <code>deps</code> array for any libraries the library depends on. For an example, take a look at how Thorax itself is setup within <code>require-config.js</code>.</li>\n<li>Inside an existing or new module, require the library by adding an item to the array of required modules - the name you&#39;ll use here is the name of the <code>path</code> you setup in step 2 above. Then, pass a new argument into the callback function, name the argument whatever you&#39;d like, but remember that uppercase names should be reserved for modules that export constructor functions. When all the modules that this module depends on resolve, the callback function will be called and the argument representing the exported object from the module will be available for use inside.</li>\n</ol>\n<p>For in depth information on Require JS make sure to check out <a href="http://requirejs.org/"><a href="http://requirejs.org/">http://requirejs.org/</a></a>.</p>\n\n\n  </div>\n\n  <div class="thorax-secondary">\n    <h3>Resources</h3>\n\n    <ul>\n      <li><a href="http://thoraxjs.org/api.html">API Reference</a></li>\n      <li><a href="http://thoraxjs.org/start.html">Tutorials</a></li>\n      <li><a href="http://vimeo.com/60230630">Screencast</a></li>\n    </ul>\n  </div>\n</div>\n<div class="thorax-footer">\n  <ul>\n    <li><a href="http://thoraxjs.org/api.html">API Reference</a></li>\n    <li><a href="http://thoraxjs.org/start.html">Tutorials</a></li>\n    <li><a href="http://vimeo.com/60230630">Screencast</a></li>\n  </ul>\n</div>'
})}),define("views/hello-world/index",["view","hbs!templates/hello-world/index"],function(e,t){return e.extend({name:"hello-world/index",template:t})}),define("routers/hello-world",["backbone","views/root","views/hello-world/index"],function(e,t,n){return e.Router.extend({routes:{"":"index"},index:function(){var e=new n;t.getInstance().setView(e)}})}),define("helpers",["handlebars","thorax"],function(e){e.registerHelper("greeting",function(){return new e.SafeString("Hello World")}),e.registerViewHelper("on",function(e,t){t.parent.on(e,function(){t.render()})})}),require(["jquery","backbone","views/root","routers/hello-world","helpers"],function(e,t,n,i){e(function(){t.history.start({pushState:!1,root:"/",silent:!0}),n.getInstance(document.body),new i,t.history.loadUrl()})}),define("main",function(){});